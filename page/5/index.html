<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
       
      <meta name="keywords" content="生活，旅行，思考，代码" />
       
      <meta name="description" content="有事者,事竟成;破釜沉舟,百二秦关终归楚;苦心人,天不负;卧薪尝胆,三千越甲可吞吴。" />
      
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> 何福海的个人博客</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/blog/favicon.ico" />
       
<link rel="stylesheet" href="/blog/dist/main.css">

      
<link rel="stylesheet" href="/blog/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/blog/css/custom.css">
  
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    <link rel="alternate" href="/blog/atom.xml" title="何福海的个人博客" type="application/atom+xml">
</head>
  </html>
</html>


<body>
  <div id="app">
    
      
      <canvas width="1777" height="841"
        style="position: fixed; left: 0px; top: 0px; z-index: 99999; pointer-events: none;"></canvas>
      
    <main class="content on">
      
<section class="cover">
    
      
      <a class="forkMe" href="https://gitee.com/bestwishes0203"
        target="_blank"><img width="149" height="149" src="/blog/images/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
    
  <div class="cover-frame">
    <div class="bg-box">
      <img src="/blog/images/cover1.jpg" alt="image frame" />
    </div>
    <div class="cover-inner text-center text-white">
      <h1><a href="/blog/">何福海的个人博客</a></h1>
      <div id="subtitle-box">
        
        <span id="subtitle"></span>
        
      </div>
      <div>
        
      </div>
    </div>
  </div>
  <div class="cover-learn-more">
    <a href="javascript:void(0)" class="anchor"><i class="ri-arrow-down-line"></i></a>
  </div>
</section>



<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-程序员必备开发工具"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/16/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BF%85%E5%A4%87%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/"
    >程序员必备开发工具</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/16/%E7%A8%8B%E5%BA%8F%E5%91%98%E5%BF%85%E5%A4%87%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/" class="article-date">
  <time datetime="2024-03-15T17:38:26.000Z" itemprop="datePublished">2024-03-16</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%85%B6%E4%BB%96/">其他</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="程序员必备开发工具"><a href="#程序员必备开发工具" class="headerlink" title="程序员必备开发工具"></a>程序员必备开发工具</h1><p>程序员在日常开发工作中，经常需要使用到各种集成开发环境（IDE）和其他辅助工具。以下是一些广泛使用的IDE和开发工具：</p>
<h2 id="集成开发环境（IDE）"><a href="#集成开发环境（IDE）" class="headerlink" title="集成开发环境（IDE）"></a>集成开发环境（IDE）</h2><ol>
<li><strong>IntelliJ IDEA</strong>：<ul>
<li>由JetBrains开发，支持Java、Kotlin、Scala等多种语言，提供智能代码辅助、强大的重构工具和丰富的插件生态系统。</li>
</ul>
</li>
<li><strong>Eclipse</strong>：<ul>
<li>开源IDE，支持Java、C&#x2F;C++、PHP等多种语言，具有强大的插件系统，可以根据需要进行定制。</li>
</ul>
</li>
<li><strong>Visual Studio</strong>：<ul>
<li>微软开发，支持C#、Visual Basic、JavaScript等语言，提供集成的数据库工具、Web开发工具和强大的调试功能。</li>
</ul>
</li>
<li><strong>PyCharm</strong>：<ul>
<li>同样由JetBrains开发，专门为Python设计，提供代码自动完成、项目管理、版本控制和科学工具等功能。</li>
</ul>
</li>
<li><strong>Visual Studio Code</strong>（VS Code）：<ul>
<li>微软开发，免费、开源，支持多种语言，通过扩展市场提供丰富的插件，轻量级但功能强大。</li>
</ul>
</li>
<li><strong>Sublime Text</strong>：<ul>
<li>轻量级的文本编辑器，支持多种编程语言，通过插件系统可以扩展功能，适合快速编写代码和文本。</li>
</ul>
</li>
<li><strong>NetBeans</strong>：<ul>
<li>支持Java、PHP、C&#x2F;C++等语言，提供集成的版本控制和数据库工具，界面友好，易于上手。</li>
</ul>
</li>
<li><strong>RStudio</strong>：<ul>
<li>专为R语言设计的IDE，提供代码编辑、调试、可视化和项目管理等功能。</li>
</ul>
</li>
<li><strong>HBuilderX</strong>：<ul>
<li>由 DCloud 公司开发，是一款轻量级的前端开发工具，特别适合前端开发者和小程序开发者。</li>
</ul>
</li>
<li>**Embarcadero Dev-C++**：</li>
</ol>
<ul>
<li>一款 C&#x2F;C++ 集成开发环境，提供代码编辑、调试和项目管理功能。</li>
</ul>
<ol start="11">
<li><strong>GoLand</strong>：<ul>
<li>由 JetBrains 开发，专为 Go 语言设计的跨平台 IDE。内置支持 Go 模块管理和丰富的插件生态系统，如数据库工具、Web 开发和版本控制。</li>
</ul>
</li>
</ol>
<h2 id="版本控制系统"><a href="#版本控制系统" class="headerlink" title="版本控制系统"></a>版本控制系统</h2><ol>
<li><p><strong>Git</strong>：</p>
<ul>
<li>分布式版本控制系统，广泛用于代码的版本管理和团队协作。</li>
</ul>
</li>
<li><p><strong>Subversion</strong>（SVN）：</p>
<ul>
<li>集中式版本控制系统，适用于需要集中管理代码的场景。</li>
</ul>
</li>
</ol>
<h2 id="数据库管理工具"><a href="#数据库管理工具" class="headerlink" title="数据库管理工具"></a>数据库管理工具</h2><ol>
<li><p><strong>phpMyAdmin</strong>：</p>
<ul>
<li>基于Web的MySQL数据库管理工具，提供用户友好的界面来管理数据库。</li>
</ul>
</li>
<li><p><strong>Navicat</strong>：</p>
<ul>
<li>一款强大的数据库开发工具，支持多种数据库，如 MySQL、PostgreSQL、SQLite、Oracle 等。</li>
</ul>
</li>
<li><p><strong>DataGrip</strong>：</p>
<ul>
<li>由 JetBrains 开发的数据库管理工具，支持多种数据库系统，提供智能查询编辑器和数据库版本控制。</li>
</ul>
</li>
</ol>
<h2 id="其他工具"><a href="#其他工具" class="headerlink" title="其他工具"></a>其他工具</h2><ol>
<li><strong>Docker</strong>：<ul>
<li>应用容器引擎，用于打包应用及其依赖到一个可移植的容器中。</li>
</ul>
</li>
</ol>
<h2 id="接口测试化工具"><a href="#接口测试化工具" class="headerlink" title="接口测试化工具"></a>接口测试化工具</h2><ol>
<li><strong>Apifox</strong>：</li>
</ol>
<ul>
<li>一款 API 设计、开发、测试、文档和模拟的全能工具，支持接口自动化测试和数据 Mock。</li>
</ul>
<ol start="2">
<li><strong>Postman</strong>：</li>
</ol>
<ul>
<li>API开发的辅助工具，用于测试和文档化RESTful API。</li>
</ul>
<h2 id="虚拟机工具"><a href="#虚拟机工具" class="headerlink" title="虚拟机工具"></a>虚拟机工具</h2><ol>
<li><p><strong>Oracle VM VirtualBox</strong>：</p>
<ul>
<li>由 Oracle 提供的开源虚拟化软件，可以在一台机器上创建和管理多个虚拟机。</li>
</ul>
</li>
<li><p><strong>VMware</strong>：</p>
<ul>
<li>提供虚拟化解决方案，包括桌面虚拟化、服务器虚拟化和云计算管理。</li>
</ul>
</li>
</ol>
<h2 id="现有工具补充"><a href="#现有工具补充" class="headerlink" title="现有工具补充"></a>现有工具补充</h2><ol>
<li><p><strong>Android Studio</strong>：</p>
<ul>
<li>官方的 Android 开发 IDE，基于 IntelliJ IDEA，提供丰富的 Android 应用开发工具和插件。</li>
</ul>
</li>
<li><p><strong>CLion</strong>：</p>
<ul>
<li>由 JetBrains 开发的 C 和 C++ 跨平台 IDE，提供智能代码分析、重构和调试功能。</li>
</ul>
</li>
</ol>
<p>选择合适的IDE和工具可以显著提高开发效率和代码质量。不同的项目和开发需求可能需要不同的工具组合，因此程序员通常会根据具体的工作环境和个人偏好来选择最适合自己的工具。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Spring-Boot-Vue前后端分离项目如何部署到服务器"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/13/Spring-Boot-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/"
    >Spring Boot+Vue前后端分离项目如何部署到服务器</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/13/Spring-Boot-Vue%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%E9%A1%B9%E7%9B%AE%E5%A6%82%E4%BD%95%E9%83%A8%E7%BD%B2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="article-date">
  <time datetime="2024-03-12T16:44:55.000Z" itemprop="datePublished">2024-03-13</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%90%8E%E7%AB%AF/">后端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Spring-Boot-Vue前后端分离项目如何部署到服务器"><a href="#Spring-Boot-Vue前后端分离项目如何部署到服务器" class="headerlink" title="Spring Boot+Vue前后端分离项目如何部署到服务器"></a>Spring Boot+Vue前后端分离项目如何部署到服务器</h1><p>部署Spring Boot+Vue前后端分离项目到服务器涉及以下步骤：首先，将Spring Boot后端应用打包成jar或war文件并上传至服务器，通过运行<code>java -jar</code>命令启动后端服务。接着，构建Vue前端项目生成静态文件，同样上传至服务器的Web服务器目录，如Nginx的<code>html</code>目录。最后，配置Nginx作为反向代理，将前端请求代理至Vue应用目录，同时确保后端API的路径正确映射。这样，前后端分离的项目就成功部署在服务器上。<br>部署Spring Boot和Vue项目到服务器之前，需要确保服务器具备以下环境和工具：</p>
<h2 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h2><h3 id="通用准备："><a href="#通用准备：" class="headerlink" title="通用准备："></a>通用准备：</h3><ol>
<li><p><strong>服务器</strong>：</p>
<ul>
<li>一台具有稳定网络连接的服务器，可以是云服务器或本地服务器。</li>
<li>服务器操作系统，常见的有Linux发行版（如Ubuntu、CentOS）或Windows Server。</li>
</ul>
</li>
<li><p><strong>SSH访问</strong>（对于Linux服务器）：</p>
<ul>
<li>SSH客户端，如xshell。<br><img src="https://img-blog.csdnimg.cn/direct/3e3e91fbf3b14c75bc982f8a8d826a8a.png#pic_center" alt="在这里插入图片描述"></li>
</ul>
</li>
<li><p><strong>文件传输工具</strong>：</p>
<ul>
<li>FTP客户端，如xftp。</li>
<li>或者SCP工具，如WinSCP（Windows）或终端（macOS、Linux）。<br><img src="https://img-blog.csdnimg.cn/direct/e4f3501aa7a74683a442a26251e45da3.png#pic_center" alt="在这里插入图片描述"></li>
</ul>
</li>
</ol>
<h3 id="数据库准备"><a href="#数据库准备" class="headerlink" title="数据库准备"></a>数据库准备</h3><ol>
<li><strong>MySQL环境</strong>：<ul>
<li>安装<code>MySQL5.7</code>或<code>MySQL8.0</code>。</li>
<li>可以通过运行<code>sudo systemctl status mysqld</code>来检查MySQL是否正在运行（MySQL需要配置远程访问）。</li>
</ul>
</li>
</ol>
<blockquote>
<ol start="15">
<li><strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/interest_ing_/article/details/136535378">CentOS上安装MySQL 5.7和MySQL 8.0教程</a></strong></li>
</ol>
<ul>
<li>837阅读 · 21点赞 · 13收藏</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/direct/f23e3c9bd17e47fd9deec227ced0dea8.png" alt="在这里插入图片描述"></p>
</blockquote>
<ol start="2">
<li><strong>MySQL远程访问工具</strong>：<ul>
<li>用于构建远程访问<code>MySQL</code>工具，如<code>Navicat</code>。<br><img src="https://img-blog.csdnimg.cn/direct/3e0ea16bd4bd4626bf13d55ef1b568fa.png#pic_center" alt="在这里插入图片描述"></li>
</ul>
</li>
</ol>
<h3 id="Spring-Boot部署环境："><a href="#Spring-Boot部署环境：" class="headerlink" title="Spring Boot部署环境："></a>Spring Boot部署环境：</h3><ol>
<li><p><strong>Java环境</strong>：</p>
<ul>
<li>安装Java Development Kit (JDK)，至少需要1.8版本。</li>
<li>可以通过运行<code>java -version</code>和<code>javac -version</code>来检查Java是否已安装。</li>
</ul>
<blockquote>
<ol start="18">
<li><strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/interest_ing_/article/details/136521766">CentOS上安装JDK的详细教程</a></strong></li>
</ol>
<ul>
<li>739阅读 · 12点赞 · 13收藏</li>
</ul>
</blockquote>
</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/direct/323a32a31e05464aaad21f10964f9f07.png" alt="在这里插入图片描述"></p>
<ol start="2">
<li><strong>Maven或Gradle</strong>（如果需要本地构建）：<ul>
<li>用于构建Spring Boot项目的构建工具。</li>
<li>可以通过运行<code>mvn -version</code>或<code>gradle -v</code>来检查是否已安装。</li>
</ul>
</li>
</ol>
<h3 id="Vue-js部署环境："><a href="#Vue-js部署环境：" class="headerlink" title="Vue.js部署环境："></a>Vue.js部署环境：</h3><ol>
<li><p><strong>Node.js和npm</strong>：</p>
<ul>
<li>安装Node.js，它附带npm包管理器。</li>
<li>可以通过运行<code>node -v</code>和<code>npm -v</code>来检查是否已安装。</li>
</ul>
</li>
<li><p><strong>Web服务器</strong>：</p>
<ul>
<li>Nginx或Apache用于提供静态文件服务。</li>
<li>对于Nginx，可以通过运行<code>nginx -v</code>来检查是否已安装。</li>
<li>对于Apache，可以通过运行<code>apache2 -v</code>或<code>httpd -v</code>来检查是否已安装。</li>
</ul>
</li>
</ol>
<blockquote>
<ol start="23">
<li><strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/interest_ing_/article/details/136487540">CentOS上安装与配置Nginx</a></strong></li>
</ol>
<ul>
<li>683阅读 · 9点赞 · 6收藏</li>
</ul>
</blockquote>
<blockquote>
<ol start="30">
<li><strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/interest_ing_/article/details/129940608">手把手教你CentOS下载Nginx配置使用</a></strong></li>
</ol>
<ul>
<li>464阅读 · 2点赞 · 3收藏</li>
</ul>
</blockquote>
<p><img src="https://img-blog.csdnimg.cn/direct/4764b37aae684e44992bb1d84fd62bfc.png" alt="在这里插入图片描述"></p>
<h3 id="可选环境："><a href="#可选环境：" class="headerlink" title="可选环境："></a>可选环境：</h3><ol>
<li><p><strong>数据库</strong>：</p>
<ul>
<li>如果Spring Boot应用需要数据库，需要安装相应的数据库服务器，如MySQL、PostgreSQL等。</li>
<li>确保数据库服务已启动，并且应用有正确的数据库连接配置。</li>
</ul>
</li>
<li><p><strong>反向代理&#x2F;负载均衡</strong>：</p>
<ul>
<li>如果有多个应用实例或需要SSL终端，可能需要配置Nginx或HAProxy作为反向代理或负载均衡器。</li>
</ul>
</li>
<li><p><strong>容器化工具</strong>（如Docker）：</p>
<ul>
<li>如果使用Docker，需要在服务器上安装Docker和Docker Compose。</li>
</ul>
</li>
<li><p><strong>自动化部署工具</strong>（如Jenkins、GitLab CI&#x2F;CD）：</p>
<ul>
<li>如果需要自动化部署流程，可能需要安装和配置CI&#x2F;CD工具。</li>
</ul>
</li>
</ol>
<p>确保在部署之前，服务器上的环境和工具都已经正确安装和配置，这样可以避免在部署过程中遇到不必要的问题。</p>
<h2 id="运行sql文件创建数据库"><a href="#运行sql文件创建数据库" class="headerlink" title="运行sql文件创建数据库"></a>运行sql文件创建数据库</h2><ol>
<li><p><strong>远程连接服务器上的数据库</strong>：使用<code>Navicat</code>连接数据库。</p>
</li>
<li><p><strong>运行项目相关的<code>SQL</code>文件</strong>：运行<code>SQL</code>。</p>
</li>
</ol>
<h2 id="Spring-Boot项目部署到服务器"><a href="#Spring-Boot项目部署到服务器" class="headerlink" title="Spring Boot项目部署到服务器"></a>Spring Boot项目部署到服务器</h2><ol>
<li><p><strong>打包应用</strong>：<br>使用Maven或Gradle将Spring Boot项目打包成可执行的jar或war文件。如果使用Maven，可以在<code>pom.xml</code>中添加<code>spring-boot-maven-plugin</code>插件，并运行<code>mvn clean package</code>命令来打包。<br><img src="https://img-blog.csdnimg.cn/direct/a417ba19d15943798da682bd0b3d0f5e.png" alt="在这里插入图片描述"></p>
</li>
<li><p><strong>上传到服务器</strong>：<br>使用FTP、SCP或其他文件传输方法将打包好的jar或war文件上传到服务器的适当目录中。</p>
</li>
<li><p><strong>运行应用</strong>（如果是jar包）：<br>在服务器上，使用以下命令在后台运行jar文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nohup</span> java -jar yourapp.jar &gt; output.log 2&gt;&amp;1 &amp;</span><br></pre></td></tr></table></figure>

<p>这将把应用的输出重定向到<code>output.log</code>文件中，并在后台运行。</p>
</li>
<li><p><strong>配置服务</strong>（可选）：<br>为了确保应用可以在系统启动时自动运行，并能在出现问题时自动重启，可以创建一个Systemd服务文件。</p>
</li>
<li><p><strong>开放端口</strong>：<br>确保服务器的防火墙设置允许外部访问Spring Boot应用的端口。</p>
</li>
</ol>
<h2 id="Vue项目部署到服务器"><a href="#Vue项目部署到服务器" class="headerlink" title="Vue项目部署到服务器"></a>Vue项目部署到服务器</h2><ol>
<li><p><strong>构建项目</strong>：<br>在本地环境中运行<code>npm run build</code>命令，这将会在Vue项目的<code>dist/</code>目录下生成构建后的文件。<br><img src="https://img-blog.csdnimg.cn/direct/31c7535e8d48423bacf213346127e80f.png" alt="在这里插入图片描述"></p>
</li>
<li><p><strong>上传文件</strong>：<br>将<code>dist/</code>目录下的所有文件上传到服务器的Web服务器目录中，例如Nginx或Apache的<code>html</code>或<code>public</code>目录。<br><img src="https://img-blog.csdnimg.cn/direct/e1b7456e53764f6ab778b59ff70fa3c3.png" alt="在这里插入图片描述"></p>
</li>
<li><p><strong>配置Web服务器</strong>：<br>配置Web服务器以提供静态文件服务。如果是Nginx，你需要编辑<code>nginx.conf</code>或相应的配置文件，设置正确的根目录，并可能需要配置SSL（如果你使用的是HTTPS）。</p>
</li>
<li><p><strong>重启Web服务器</strong>：<br>为了使配置生效，重启Web服务器。<br>先查询nginx服务运行的进程：<code>ps -ef|grep nginx</code><br>杀死所查询到的nginx服务：<code>kill -9 [ 查到的进程]</code><br>重启服务：<code>cd /nginx安装的sbin目录</code><br><code>./nginx</code></p>
</li>
<li><p><strong>访问应用</strong>：<br>在Web浏览器中输入服务器的IP地址或域名，你应该能够看到你的Vue应用。</p>
</li>
</ol>
<h3 id="综合步骤"><a href="#综合步骤" class="headerlink" title="综合步骤"></a>综合步骤</h3><p>对于同时包含前端Vue项目和后端Spring Boot项目的全栈应用，通常的做法是：</p>
<ul>
<li>将Spring Boot应用打包并部署到服务器，作为后端API服务。</li>
<li>将Vue应用构建并上传到同一服务器的Web服务器目录中，或者配置反向代理（如Nginx）将前端请求代理到Vue应用的服务器。</li>
</ul>
<p>确保在部署过程中，Vue应用的<code>publicPath</code>或<code>base</code>配置正确指向后端API的URL，以确保前后端能够正确地通信。</p>
<p>以上步骤是部署Spring Boot和Vue项目到服务器的基本流程。具体的命令和配置可能会根据你的项目和服务器环境有所不同。</p>
<p><strong><strong>如果对你有帮助，点赞、收藏、关注是我更新的动力！👋🌟🚀</strong></strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/SpringBoot/" rel="tag">SpringBoot</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Spring-Cloud原理详解"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/12/Spring-Cloud%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/"
    >Spring Cloud原理详解</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/12/Spring-Cloud%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3/" class="article-date">
  <time datetime="2024-03-12T01:26:36.000Z" itemprop="datePublished">2024-03-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%90%8E%E7%AB%AF/">后端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Spring-Cloud原理详解"><a href="#Spring-Cloud原理详解" class="headerlink" title="Spring Cloud原理详解"></a>Spring Cloud原理详解</h1><h2 id="Spring-Cloud是什么？"><a href="#Spring-Cloud是什么？" class="headerlink" title="Spring Cloud是什么？"></a>Spring Cloud是什么？</h2><p><code>Spring Cloud</code> 是一个基于<code>Spring Boot</code>实现的云应用开发工具，它为基于JVM的云应用开发中涉及的配置管理、服务发现、断路器、智能路由、微代理、事件总线、全局锁、决策竞选、分布式会话等操作提供了一种简单的开发方式。</p>
<p><a target="_blank" rel="noopener" href="https://spring.io/projects/spring-cloud">Spring Cloud官网</a><br><img src="https://img-blog.csdnimg.cn/direct/fa8d5d05d5fb4e3897693ed024c4742b.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="Spring-Boot是什么"><a href="#Spring-Boot是什么" class="headerlink" title="Spring Boot是什么"></a>Spring Boot是什么</h2><p>Spring Boot是一个开源的Java基础框架，旨在简化Spring应用的创建和开发过程。它是基于Spring框架的一个模块，提供了一种快速、便捷的方式来开发基于Spring的应用程序。Spring Boot的主要目标是减少配置和部署的复杂性，使得开发者可以轻松地创建独立的、生产级别的基于Spring的应用程序。</p>
<h3 id="核心特性"><a href="#核心特性" class="headerlink" title="核心特性"></a>核心特性</h3><ol>
<li><p><strong>自动配置</strong>：Spring Boot通过自动配置机制减少了显式配置的需求。它能够根据项目中的jar依赖自动配置Spring和第三方库。</p>
</li>
<li><p><strong>独立运行</strong>：Spring Boot应用程序可以打包成一个独立的JAR文件，这个JAR文件包含了所有必要的依赖项，可以直接运行，无需部署到外部的应用服务器。</p>
</li>
<li><p><strong>内嵌服务器</strong>：Spring Boot内嵌了Tomcat、Jetty或Undertow等Servlet容器，无需额外安装Web服务器即可运行Web应用。</p>
</li>
<li><p><strong>生产就绪</strong>：Spring Boot提供了各种生产级别的特性，如健康检查、度量信息收集、外部化配置等，以便于监控和管理应用程序。</p>
</li>
<li><p><strong>无代码生成和XML配置</strong>：Spring Boot不需要生成大量的样板代码，也不需要复杂的XML配置文件，大多数情况下使用注解和一些属性文件即可完成配置。</p>
</li>
<li><p><strong>微服务支持</strong>：Spring Boot与Spring Cloud紧密集成，支持构建微服务架构的应用，提供了服务发现、配置管理、负载均衡等微服务相关的功能。</p>
</li>
</ol>
<h3 id="优势"><a href="#优势" class="headerlink" title="优势"></a>优势</h3><ul>
<li><strong>快速开发</strong>：Spring Boot的约定优于配置的原则使得开发者可以快速搭建和运行Spring应用程序。</li>
<li><strong>简化部署</strong>：独立的JAR文件使得部署变得简单，可以直接通过Java命令运行，也可以打包为Docker容器。</li>
<li><strong>社区支持</strong>：Spring Boot由一个活跃的社区支持，有大量的文档、教程和第三方库可供选择。</li>
<li><strong>灵活性</strong>：虽然Spring Boot提供了默认配置，但它同样支持高度定制化，满足复杂应用的需求。</li>
</ul>
<h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><p>Spring Boot适用于各种类型的Java应用程序，包括Web应用、RESTful API、微服务、数据访问应用等。它特别适合于快速原型开发和中小型项目，但也可以用于大型企业级应用的开发。</p>
<h2 id="Spring-Cloud发展历程"><a href="#Spring-Cloud发展历程" class="headerlink" title="Spring Cloud发展历程"></a>Spring Cloud发展历程</h2><p>Spring Cloud的发展史是与Spring框架的演进紧密相连的。</p>
<h3 id="2003年-Spring框架的诞生"><a href="#2003年-Spring框架的诞生" class="headerlink" title="2003年 - Spring框架的诞生"></a>2003年 - Spring框架的诞生</h3><p>Spring框架最初由Rod Johnson创建，并在2003年发布。它旨在简化Java EE开发，通过提供全面的编程和配置模型来解决企业级应用开发的复杂性。</p>
<h3 id="2013年-Spring-Boot的发布"><a href="#2013年-Spring-Boot的发布" class="headerlink" title="2013年 - Spring Boot的发布"></a>2013年 - Spring Boot的发布</h3><p>随着时间的推移，Spring生态系统变得越来越庞大，配置也变得越来越复杂。为了简化Spring应用的创建和部署，Pivotal团队在2013年推出了Spring Boot，它通过提供默认配置来简化Spring应用的开发。</p>
<h3 id="2014年-Spring-Cloud的初步形成"><a href="#2014年-Spring-Cloud的初步形成" class="headerlink" title="2014年 - Spring Cloud的初步形成"></a>2014年 - Spring Cloud的初步形成</h3><p>随着微服务架构的流行，开发者需要一套工具来帮助他们在云环境中构建和管理分布式系统。Spring Cloud在2014年左右开始形成，它提供了一系列框架来支持微服务架构模式。</p>
<h3 id="2015年-Spring-Cloud的稳定发展"><a href="#2015年-Spring-Cloud的稳定发展" class="headerlink" title="2015年 - Spring Cloud的稳定发展"></a>2015年 - Spring Cloud的稳定发展</h3><p>Spring Cloud发布了多个子项目，如Spring Cloud Config、Spring Cloud Netflix Eureka、Spring Cloud Hystrix等，这些项目帮助开发者解决了配置管理、服务发现、断路器等问题。</p>
<h3 id="2016年-Spring-Cloud的成熟"><a href="#2016年-Spring-Cloud的成熟" class="headerlink" title="2016年 - Spring Cloud的成熟"></a>2016年 - Spring Cloud的成熟</h3><p>Spring Cloud继续扩展，引入了更多的项目，如Spring Cloud Stream、Spring Cloud Function等，同时，Spring Cloud Netflix项目也得到了进一步的发展和完善。</p>
<h3 id="2017年-服务网格的探索"><a href="#2017年-服务网格的探索" class="headerlink" title="2017年 - 服务网格的探索"></a>2017年 - 服务网格的探索</h3><p>随着服务网格架构的兴起，Spring Cloud开始探索如何将服务网格技术与Spring Cloud集成，以便更好地支持微服务的监控、安全和流量控制。</p>
<h3 id="2018年-Spring-Cloud的整合与演进"><a href="#2018年-Spring-Cloud的整合与演进" class="headerlink" title="2018年 - Spring Cloud的整合与演进"></a>2018年 - Spring Cloud的整合与演进</h3><p>Spring Cloud发布了Spring Cloud Data Flow，用于简化数据驱动的微服务应用的开发。同时，Spring Cloud也整合了Spring Security，提供了更全面的安全解决方案。</p>
<h3 id="2019年-向Serverless的转变"><a href="#2019年-向Serverless的转变" class="headerlink" title="2019年 - 向Serverless的转变"></a>2019年 - 向Serverless的转变</h3><p>随着云原生技术的发展，Spring Cloud开始支持Serverless架构，发布了Spring Cloud Function for Kubernetes，使得开发者可以在Kubernetes上以无服务器（Serverless）的方式运行Spring Boot函数。</p>
<h3 id="2020年至今-持续创新与适应"><a href="#2020年至今-持续创新与适应" class="headerlink" title="2020年至今 - 持续创新与适应"></a>2020年至今 - 持续创新与适应</h3><p>Spring Cloud持续创新，适应新的技术和趋势，如增强对Spring Native的支持，使得Spring应用可以编译为本地二进制文件，提高启动速度和运行效率。同时，Spring Cloud也继续扩展其对云原生和微服务的支持。</p>
<p>Spring Cloud的发展史是不断适应新的技术挑战和市场需求的历史。随着云计算和微服务架构的不断演进，Spring Cloud也在不断地更新和扩展其项目，以帮助开发者构建更加灵活、可扩展和可维护的云原生应用。</p>
<h2 id="Spring-Cloud核心组件"><a href="#Spring-Cloud核心组件" class="headerlink" title="Spring Cloud核心组件"></a>Spring Cloud核心组件</h2><ol>
<li><p><strong>Spring Cloud Config</strong>：</p>
<ul>
<li>用于配置管理，支持集中化外部配置。可以存储配置信息并在运行时动态更新，支持不同环境（开发、测试、生产）的配置信息。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Netflix Eureka</strong>：</p>
<ul>
<li>服务注册与发现机制，提供服务注册中心，允许微服务应用进行注册和发现。Eureka Client用于服务的注册与注销，Eureka Server用于服务的注册信息管理和服务发现。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Netflix Ribbon</strong>：</p>
<ul>
<li>客户端负载均衡器，提供基于HTTP和TCP的客户端负载均衡算法。Ribbon与Eureka结合使用，可以实现服务调用时的负载均衡。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Netflix Hystrix</strong>：</p>
<ul>
<li>断路器模式的实现，防止服务雪崩效应。当某个服务出现故障时，Hystrix可以快速失败或提供备选响应，而不是长时间的等待或重试。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Zuul</strong>：</p>
<ul>
<li>动态路由，用于API网关服务，提供请求路由、过滤和安全控制。Zuul可以与Ribbon和Eureka结合，实现请求的负载均衡和服务发现。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Bus</strong>：</p>
<ul>
<li>事件、消息总线，用于传播服务间的事件和状态变化。结合Spring Cloud Config可以实现配置的动态刷新。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Security</strong>：</p>
<ul>
<li>安全管理，提供认证和授权的支持。可以集成OAuth2、LDAP等安全机制，保护微服务的安全性。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Stream</strong>：</p>
<ul>
<li>消息驱动的微服务框架，用于构建基于消息的异步系统。支持与外部消息中间件（如RabbitMQ、Kafka）的集成。</li>
</ul>
</li>
<li><p><strong>Spring Cloud Sleuth</strong>：</p>
<ul>
<li>分布式跟踪，支持跨服务的请求链路追踪。通常与Zipkin或ELK Stack结合使用，以监控和分析微服务的调用链。</li>
</ul>
</li>
</ol>
<h2 id="Spring-Cloud工作原理"><a href="#Spring-Cloud工作原理" class="headerlink" title="Spring Cloud工作原理"></a>Spring Cloud工作原理</h2><ol>
<li><p><strong>服务注册与发现</strong>：</p>
<ul>
<li>微服务启动时，向Eureka Server注册自己的信息。</li>
<li>服务之间通过Eureka Server查询其他服务的实例列表和地址。</li>
</ul>
</li>
<li><p><strong>客户端负载均衡</strong>：</p>
<ul>
<li>Ribbon客户端通过Eureka获取服务实例列表，并根据负载均衡策略选择一个实例进行调用。</li>
</ul>
</li>
<li><p><strong>断路器</strong>：</p>
<ul>
<li>Hystrix监控服务调用的成功率和响应时间，当失败率过高或响应时间过长时，会自动切换到断路状态，避免进一步的调用。</li>
</ul>
</li>
<li><p><strong>API网关</strong>：</p>
<ul>
<li>Zuul作为API网关，统一处理所有服务的请求，提供路由、过滤和安全控制。</li>
</ul>
</li>
<li><p><strong>配置管理</strong>：</p>
<ul>
<li>应用启动时从Config Server获取配置信息。</li>
<li>当配置信息发生变化时，通过Bus广播给所有订阅的服务，实现配置的动态更新。</li>
</ul>
</li>
<li><p><strong>消息驱动</strong>：</p>
<ul>
<li>应用通过Stream框架发布和消费消息，实现服务间的异步通信。</li>
</ul>
</li>
<li><p><strong>分布式跟踪</strong>：</p>
<ul>
<li>Sleuth生成和传播跟踪ID，通过Zipkin实现跨服务调用的链路追踪。</li>
</ul>
</li>
</ol>
<p>Spring Cloud通过这些组件和机制，简化了微服务架构下的应用开发、部署和运维。开发者可以利用Spring Cloud快速构建出弹性、可扩展和可维护的云原生应用。</p>
<p><strong><strong>如果对你有帮助，点赞、收藏、关注是我更新的动力！👋🌟🚀</strong></strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Spring-Cloud/" rel="tag">Spring Cloud</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/12/%E7%88%AC%E8%99%AB%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8F%8A%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E3%80%81%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E3%80%81%E7%88%AC%E5%8F%96%E7%BB%8F%E5%85%B8moba%E6%B8%B8%E6%88%8F%E8%8B%B1%E9%9B%84%E5%88%97%E8%A1%A8/"
    >爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/12/%E7%88%AC%E8%99%AB%E5%9F%BA%E6%9C%AC%E5%8E%9F%E7%90%86%E4%BB%8B%E7%BB%8D%E3%80%81%E5%AE%9E%E7%8E%B0%E5%8F%8A%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%E3%80%81%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E3%80%81%E7%88%AC%E5%8F%96%E7%BB%8F%E5%85%B8moba%E6%B8%B8%E6%88%8F%E8%8B%B1%E9%9B%84%E5%88%97%E8%A1%A8/" class="article-date">
  <time datetime="2024-03-12T01:25:07.000Z" itemprop="datePublished">2024-03-12</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/">编程语言</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表"><a href="#爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表" class="headerlink" title="爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表"></a>爬虫基本原理介绍、实现及问题解决、爬虫实战、爬取经典moba游戏英雄列表</h1><p><code>爬虫（Web Crawler）</code>是一种自动化的网络机器人，其基本功能是从互联网上抓取信息。爬虫的工作原理、实现方法以及可能遇到的问题及其解决方案如下：</p>
<h2 id="基本原理"><a href="#基本原理" class="headerlink" title="基本原理"></a>基本原理</h2><ol>
<li><strong>请求（Request）</strong>：爬虫向目标网站发送HTTP请求，获取网页内容。</li>
<li><strong>响应（Response）</strong>：服务器处理请求后，返回网页的HTML、JSON或其他格式的响应数据。</li>
<li><strong>解析（Parsing）</strong>：爬虫解析响应内容，提取有用信息或链接。</li>
<li><strong>存储（Storage）</strong>：将提取的数据存储到数据库或文件中。</li>
<li><strong>遍历（Traversal）</strong>：根据解析出的链接，递归或迭代地发起新的请求，继续抓取其他网页。</li>
</ol>
<h2 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h2><ol>
<li><strong>选择合适的工具</strong>：Python是实现爬虫的流行语言，常用的库有Requests、BeautifulSoup、lxml和Scrapy。</li>
<li><strong>编写爬虫代码</strong>：<ul>
<li>使用<code>requests</code>库发起请求获取网页内容。</li>
<li>使用<code>BeautifulSoup</code>或<code>lxml</code>解析HTML，提取数据。</li>
<li>使用正则表达式或XPath选择器定位所需信息。</li>
<li>遍历页面中的链接，构建待抓取的URL队列。</li>
</ul>
</li>
<li><strong>遵守robots.txt协议</strong>：robots.txt文件定义了搜索引擎爬虫可以抓取的网站范围，合法的爬虫应遵守该协议。</li>
<li><strong>设置User-Agent</strong>：模拟浏览器的User-Agent，避免被识别为爬虫而被封禁。</li>
<li><strong>异常处理</strong>：编写代码处理可能出现的异常，如网络请求失败、解析错误等。</li>
</ol>
<h2 id="问题解决"><a href="#问题解决" class="headerlink" title="问题解决"></a>问题解决</h2><ol>
<li><strong>反爬虫机制</strong>：<ul>
<li><strong>IP封禁</strong>：使用代理服务器池，轮换IP地址。</li>
<li><strong>请求频率限制</strong>：设置合理的请求间隔，避免过快请求。</li>
<li><strong>验证码</strong>：使用OCR技术或第三方服务识别验证码。</li>
<li><strong>动态内容</strong>：分析Ajax请求，模拟浏览器行为或使用Selenium获取动态加载的数据。</li>
</ul>
</li>
<li><strong>数据清洗</strong>：对抓取的数据进行清洗和格式化，以便后续处理和分析。</li>
<li><strong>性能优化</strong>：<ul>
<li>使用多线程或异步IO提高爬取效率。</li>
<li>合理设计数据存储结构，提高读写效率。</li>
</ul>
</li>
<li><strong>法律风险</strong>：尊重版权和隐私，遵守相关法律法规，避免侵权行为。</li>
</ol>
<p>爬虫的开发和使用需要遵循法律法规和道德标准，不得侵犯他人权益。在实际应用中，应尽量减少对目标网站的影响，合理合法地使用爬虫技术。</p>
<h2 id="Python爬虫简单实现"><a href="#Python爬虫简单实现" class="headerlink" title="Python爬虫简单实现"></a>Python爬虫简单实现</h2><p>以下是一个简单的Python爬虫脚本，它使用<code>requests</code>库从百度网站获取HTML内容，并将其保存到本地文件中。我已经为代码添加了注释，以便更好地理解每一步的过程。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">response = requests.get(<span class="string">&#x27;https://www.baidu.com&#x27;</span>)</span><br><span class="line">html = response.content.decode()</span><br><span class="line"><span class="built_in">print</span>(html)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data/json/baidu.html&#x27;</span>, <span class="string">&#x27;w&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">    fp.write(html)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;保存完毕！&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>在运行上述脚本时，需要注意以下几点：</p>
<ol>
<li>确保<code>requests</code>库已经安装在你的Python环境中。如果没有安装，可以通过运行<code>pip install requests</code>来安装。</li>
<li>脚本中的<code>data/json/baidu.html</code>是保存文件的路径和文件名，你需要根据你的文件系统结构来修改这个路径，确保程序有权限写入到该路径。</li>
<li>如果你运行脚本时遇到网络问题，如无法访问百度网站，可能需要检查你的网络连接，或者检查是否有代理、VPN等网络设置影响了请求。</li>
<li>由于网络请求可能受到目标网站的反爬虫策略影响，建议在实际使用中添加适当的请求头、User-Agent等信息，并遵守目标网站的robots.txt文件规定。</li>
</ol>
<h2 id="数据清洗"><a href="#数据清洗" class="headerlink" title="数据清洗"></a>数据清洗</h2><p><code>BeautifulSoup</code> 是一个用于解析HTML和XML文档的Python库，它创建了一个解析树，使得我们可以方便地提取和操作页面数据。在数据清洗过程中，<code>BeautifulSoup</code> 可以帮助我们从网页中提取有用的信息，并将其转换为统一的格式。以下是使用 <code>BeautifulSoup</code> 进行数据清洗的基本步骤：</p>
<h3 id="安装BeautifulSoup"><a href="#安装BeautifulSoup" class="headerlink" title="安装BeautifulSoup"></a>安装BeautifulSoup</h3><p>如果你还没有安装 <code>BeautifulSoup</code>，可以通过以下命令进行安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install beautifulsoup4</span><br></pre></td></tr></table></figure>

<h3 id="解析文档"><a href="#解析文档" class="headerlink" title="解析文档"></a>解析文档</h3><p>首先，你需要一个HTML或XML文档作为输入。这可以是通过HTTP请求获取的网页内容，也可以是本地文件。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设我们已经有了HTML内容，可以直接解析</span></span><br><span class="line">html_content = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;&lt;title&gt;页面标题&lt;/title&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">&lt;div class=&quot;content&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;p class=&quot;date&quot;&gt;2023-03-17&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;ul id=&quot;list&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;li class=&quot;item&quot;&gt;第一项&lt;/li&gt;</span></span><br><span class="line"><span class="string">        &lt;li class=&quot;item&quot;&gt;第二项&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用BeautifulSoup解析HTML</span></span><br><span class="line">soup = BeautifulSoup(html_content, <span class="string">&#x27;html.parser&#x27;</span>)  <span class="comment"># &#x27;html.parser&#x27;是解析器，也可以使用&#x27;lxml&#x27;等</span></span><br></pre></td></tr></table></figure>

<h3 id="提取数据"><a href="#提取数据" class="headerlink" title="提取数据"></a>提取数据</h3><p>使用 <code>BeautifulSoup</code> 提供的方法，如 <code>find()</code>, <code>find_all()</code>, <code>select()</code> 等，来定位和提取所需的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提取单个元素</span></span><br><span class="line">date_tag = soup.find(<span class="string">&#x27;p&#x27;</span>, class_=<span class="string">&#x27;date&#x27;</span>)</span><br><span class="line">date = date_tag.text.strip()  <span class="comment"># 去除空白字符</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取多个元素</span></span><br><span class="line">items = soup.find_all(<span class="string">&#x27;li&#x27;</span>, class_=<span class="string">&#x27;item&#x27;</span>)</span><br><span class="line">item_texts = [item.text.strip() <span class="keyword">for</span> item <span class="keyword">in</span> items]  <span class="comment"># 列表推导式提取所有文本内容</span></span><br></pre></td></tr></table></figure>

<h3 id="数据清洗-1"><a href="#数据清洗-1" class="headerlink" title="数据清洗"></a>数据清洗</h3><p>对提取出的数据进行清洗，包括去除空白字符、标准化格式、转换数据类型等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 去除空白字符</span></span><br><span class="line">cleaned_date = date.replace(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;&#x27;</span>).replace(<span class="string">&#x27; &#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 标准化格式，例如日期格式</span></span><br><span class="line">standard_date = cleaned_date.replace(<span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 转换数据类型，例如将字符串转换为整数或浮点数</span></span><br><span class="line"><span class="comment"># 假设我们有一个价格字符串</span></span><br><span class="line">price_str = <span class="string">&#x27;¥29.99&#x27;</span></span><br><span class="line">price = <span class="built_in">float</span>(price_str.replace(<span class="string">&#x27;¥&#x27;</span>, <span class="string">&#x27;&#x27;</span>))  <span class="comment"># 去除货币符号并转换为浮点数</span></span><br></pre></td></tr></table></figure>

<h3 id="存储数据"><a href="#存储数据" class="headerlink" title="存储数据"></a>存储数据</h3><p>将清洗后的数据存储到适当的数据结构中，如列表、字典、数据帧等。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将清洗后的数据存储到字典中</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;date&#x27;</span>: standard_date,</span><br><span class="line">    <span class="string">&#x27;items&#x27;</span>: item_texts</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者存储到列表中</span></span><br><span class="line">data_list = [</span><br><span class="line">    &#123;<span class="string">&#x27;date&#x27;</span>: standard_date, <span class="string">&#x27;items&#x27;</span>: item_texts&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果需要，可以将数据保存到文件或数据库中</span></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data.json&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    json.dump(data_list, f, ensure_ascii=<span class="literal">False</span>, indent=<span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<p>以上步骤展示了如何使用 <code>BeautifulSoup</code> 进行基本的数据清洗。在实际应用中，你可能需要根据具体的网页结构和数据需求，编写更复杂的解析和清洗逻辑。此外，<code>BeautifulSoup</code> 也提供了许多其他功能，如处理编码问题、解析嵌套标签等，可以根据需要进行学习和使用。</p>
<h2 id="爬取经典moba游戏英雄列表"><a href="#爬取经典moba游戏英雄列表" class="headerlink" title="爬取经典moba游戏英雄列表"></a>爬取经典moba游戏英雄列表</h2><h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> pyquery <span class="keyword">import</span> PyQuery</span><br><span class="line"></span><br><span class="line">url = <span class="string">&#x27;https://pvp.qq.com/web201605/herolist.shtml&#x27;</span></span><br><span class="line">html = requests.get(url).content</span><br><span class="line"><span class="comment"># print(html)</span></span><br><span class="line"></span><br><span class="line">doc = PyQuery(html)</span><br><span class="line"></span><br><span class="line">items = doc(<span class="string">&#x27;.herolist &gt; li&#x27;</span>).items()</span><br><span class="line"><span class="comment"># print(items)</span></span><br><span class="line"><span class="comment"># 生成迭代对象</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环遍历</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> items:</span><br><span class="line">    <span class="comment"># print(item)</span></span><br><span class="line">    url = item.find(<span class="string">&#x27;img&#x27;</span>).attr(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    <span class="comment"># print(url)</span></span><br><span class="line">    urls = <span class="string">&#x27;http:&#x27;</span> + url</span><br><span class="line">    name = item.find(<span class="string">&#x27;a&#x27;</span>).text()</span><br><span class="line">    <span class="comment"># print(name)</span></span><br><span class="line">    url_content = requests.get(urls).content</span><br><span class="line">    <span class="comment"># 下载 w write b bytes 二进制写入</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;data/herolist/&#x27;</span> + name + <span class="string">&#x27;.jpg&#x27;</span>, <span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        <span class="comment"># 保存</span></span><br><span class="line">        file.write(url_content)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;正在下载：%s---------%s&#x27;</span> % (name, urls))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;下载完毕&#x27;</span>)</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Ajax技术包含Fetch和Axios"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/Ajax%E6%8A%80%E6%9C%AF%E5%8C%85%E5%90%ABFetch%E5%92%8CAxios/"
    >Ajax技术包含Fetch和Axios</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/Ajax%E6%8A%80%E6%9C%AF%E5%8C%85%E5%90%ABFetch%E5%92%8CAxios/" class="article-date">
  <time datetime="2024-03-11T06:35:10.000Z" itemprop="datePublished">2024-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Ajax技术"><a href="#Ajax技术" class="headerlink" title="Ajax技术"></a>Ajax技术</h1><h2 id="一-初识前后端交互"><a href="#一-初识前后端交互" class="headerlink" title="一. 初识前后端交互"></a>一. 初识前后端交互</h2><h3 id="传统网站的问题："><a href="#传统网站的问题：" class="headerlink" title="传统网站的问题："></a><strong>传统网站的问题：</strong></h3><ul>
<li>为了获取数据，需要重新加载，浪费资源，增加等待时间，性能不好</li>
<li>验证表单过程中，一项内容不合格，页面需要重新加载，体验不好</li>
</ul>
<h3 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题:"></a><strong>解决问题:</strong></h3><ul>
<li><code>ajax</code> 全名 <code>async javascript and XML</code></li>
<li>是前后台交互的能力</li>
<li>也就是我们客户端给服务端发送消息的工具，以及接受响应的工具</li>
<li>是一个 <strong>默认异步</strong> 执行机制的功能</li>
</ul>
<h2 id="AJAX-的优势"><a href="#AJAX-的优势" class="headerlink" title="AJAX 的优势"></a>AJAX 的优势</h2><ol>
<li>不需要插件的支持，原生 js 就可以使用</li>
<li>用户体验好（不需要刷新页面就可以更新数据）</li>
<li>减轻服务端和带宽的负担</li>
<li>缺点： 搜索引擎的支持度不够，因为数据都不在页面上，搜索引擎搜索不到</li>
</ol>
<h2 id="二-原生Ajax"><a href="#二-原生Ajax" class="headerlink" title="二. 原生Ajax"></a>二. 原生Ajax</h2><h3 id="1-AJAX-基础"><a href="#1-AJAX-基础" class="headerlink" title="1. AJAX 基础"></a>1. AJAX 基础</h3><ul>
<li>在 js 中有内置的构造函数来创建 ajax 对象</li>
<li>创建 ajax 对象以后，我们就使用 ajax 对象的方法去发送请求和接受响应</li>
</ul>
<h4 id="创建一个-ajax-对象"><a href="#创建一个-ajax-对象" class="headerlink" title="创建一个 ajax 对象"></a>创建一个 ajax 对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IE9及以上</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// IE9以下</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">ActiveXObject</span>(<span class="string">&#x27;Mricosoft.XMLHTTP&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>上面就是有了一个 ajax 对象</li>
<li>我们就可以使用这个 <code>xhr</code> 对象来发送 ajax 请求了</li>
</ul>
<h4 id="配置链接信息"><a href="#配置链接信息" class="headerlink" title="配置链接信息"></a>配置链接信息</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">// xhr 对象中的 open 方法是来配置请求信息的</span></span><br><span class="line"><span class="comment">// 第一个参数是本次请求的请求方式 get / post / put / ...</span></span><br><span class="line"><span class="comment">// 第二个参数是本次请求的 url </span></span><br><span class="line"><span class="comment">// 第三个参数是本次请求是否异步，默认 true 表示异步，false 表示同步</span></span><br><span class="line"><span class="comment">// xhr.open(&#x27;请求方式&#x27;, &#x27;请求地址&#x27;, 是否异步)</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>上面的代码执行完毕以后，本次请求的基本配置信息就写完了</li>
</ul>
<h4 id="发送请求"><a href="#发送请求" class="headerlink" title="发送请求"></a>发送请求</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 xhr 对象中的 send 方法来发送请求</span></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>上面代码是把配置好信息的 ajax 对象发送到服务端</li>
</ul>
<h4 id="一个基本的-ajax-请求"><a href="#一个基本的-ajax-请求" class="headerlink" title="一个基本的 ajax 请求"></a>一个基本的 ajax 请求</h4><ul>
<li>一个最基本的 ajax 请求就是上面三步</li>
<li>但是光有上面的三个步骤，我们确实能把请求发送的到服务端</li>
<li>如果服务端正常的话，响应也能回到客户端</li>
<li>但是我们拿不到响应</li>
<li>如果想拿到响应，我们有两个前提条件<ol>
<li>本次 HTTP 请求是成功的，也就是我们之前说的 http 状态码为 200 ~ 299</li>
<li>ajax 对象也有自己的状态码，用来表示本次 ajax 请求中各个阶段</li>
</ol>
</li>
</ul>
<h4 id="ajax-状态码"><a href="#ajax-状态码" class="headerlink" title="ajax 状态码"></a>ajax 状态码</h4><ul>
<li>ajax 状态码 - <code>xhr.readyState</code></li>
<li>是用来表示一个 ajax 请求的全部过程中的某一个状态<ul>
<li><code>readyState === 0</code>：  表示未初始化完成，也就是 <code>open</code> 方法还没有执行</li>
<li><code>readyState === 1</code>：  表示配置信息已经完成，也就是执行完 <code>open</code> 之后</li>
<li><code>readyState === 2</code>：  表示 <code>send</code> 方法已经执行完成</li>
<li><code>readyState === 3</code>：  表示正在解析响应内容</li>
<li><code>readyState === 4</code>：  表示响应内容已经解析完毕，可以在客户端使用了</li>
</ul>
</li>
<li>这个时候我们就会发现，当一个 ajax 请求的全部过程中，只有当 <code>readyState === 4</code> 的时候，我们才可以正常使用服务端给我们的数据</li>
<li>所以，配合 http 状态码为 200 ~ 299 <ul>
<li>一个 ajax 对象中有一个成员叫做 <code>xhr.status</code> </li>
<li>这个成员就是记录本次请求的 http 状态码的</li>
</ul>
</li>
<li>两个条件都满足的时候，才是本次请求正常完成</li>
</ul>
<h4 id="readyStateChange"><a href="#readyStateChange" class="headerlink" title="readyStateChange"></a>readyStateChange</h4><ul>
<li><p>在 ajax 对象中有一个事件，叫做 <code>readyStateChange</code> 事件</p>
</li>
<li><p>这个事件是专门用来监听 ajax 对象的 <code>readyState</code> 值改变的的行为</p>
</li>
<li><p>也就是说只要 <code>readyState</code> 的值发生变化了，那么就会触发该事件</p>
</li>
<li><p>所以我们就在这个事件中来监听 ajax 的 <code>readyState</code> 是不是到 4 了</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php&#x27;</span>)</span><br><span class="line"></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br><span class="line"></span><br><span class="line">xhr.<span class="property">onreadyStateChange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// 每次 readyState 改变的时候都会触发该事件</span></span><br><span class="line">  <span class="comment">// 我们就在这里判断 readyState 的值是不是到 4</span></span><br><span class="line">  <span class="comment">// 并且 http 的状态码是不是 200 ~ 299</span></span><br><span class="line">  <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; <span class="regexp">/^2\d&#123;2&#125;$/</span>.<span class="title function_">test</span>(xhr.<span class="property">status</span>)) &#123;</span><br><span class="line">    <span class="comment">// 这里表示验证通过</span></span><br><span class="line">    <span class="comment">// 我们就可以获取服务端给我们响应的内容了</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="responseText"><a href="#responseText" class="headerlink" title="responseText"></a>responseText</h4><ul>
<li><p>ajax 对象中的 <code>responseText</code> 成员</p>
</li>
<li><p>就是用来记录服务端给我们的响应体内容的</p>
</li>
<li><p>所以我们就用这个成员来获取响应体内容就可以</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php&#x27;</span>)</span><br><span class="line"></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br><span class="line"></span><br><span class="line">xhr.<span class="property">onreadyStateChange</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (xhr.<span class="property">readyState</span> === <span class="number">4</span> &amp;&amp; <span class="regexp">/^2\d&#123;2&#125;$/</span>.<span class="title function_">test</span>(xhr.<span class="property">status</span>)) &#123;</span><br><span class="line">    <span class="comment">// 我们在这里直接打印 xhr.responseText 来查看服务端给我们返回的内容</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">responseText</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="2-使用-ajax-发送请求时携带参数"><a href="#2-使用-ajax-发送请求时携带参数" class="headerlink" title="2. 使用 ajax 发送请求时携带参数"></a>2. 使用 ajax 发送请求时携带参数</h3><ul>
<li>我们使用 ajax 发送请求也是可以携带参数的</li>
<li>参数就是和后台交互的时候给他的一些信息</li>
<li>但是携带参数 get 和 post 两个方式还是有区别的</li>
</ul>
<h4 id="发送一个带有参数的-get-请求"><a href="#发送一个带有参数的-get-请求" class="headerlink" title="发送一个带有参数的 get 请求"></a>发送一个带有参数的 get 请求</h4><ul>
<li><p>get 请求的参数就直接在 url 后面进行拼接就可以</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"><span class="comment">// 直接在地址后面加一个 ?，然后以 key=value 的形式传递</span></span><br><span class="line"><span class="comment">// 两个数据之间以 &amp; 分割</span></span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php?a=100&amp;b=200&#x27;</span>)</span><br><span class="line"></span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>这样服务端就能接受到两个参数</li>
<li>一个是 a，值是 100</li>
<li>一个是 b，值是 200</li>
</ul>
</li>
</ul>
<h4 id="发送一个带有参数的-post-请求"><a href="#发送一个带有参数的-post-请求" class="headerlink" title="发送一个带有参数的 post 请求"></a>发送一个带有参数的 post 请求</h4><ul>
<li><p>post 请求的参数是携带在请求体中的，所以不需要再 url 后面拼接</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;get&#x27;</span>, <span class="string">&#x27;./data.php&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 如果是用 ajax 对象发送 post 请求，必须要先设置一下请求头中的 content-type</span></span><br><span class="line"><span class="comment">// 告诉一下服务端我给你的是一个什么样子的数据格式</span></span><br><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;content-type&#x27;</span>, <span class="string">&#x27;application/x-www-form-urlencoded&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 请求体直接再 send 的时候写在 () 里面就行</span></span><br><span class="line"><span class="comment">// 不需要问号，直接就是 &#x27;key=value&amp;key=value&#x27; 的形式</span></span><br><span class="line">xhr.<span class="title function_">send</span>(<span class="string">&#x27;a=100&amp;b=200&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>application/x-www-form-urlencoded</code> 表示的数据格式就是 <code>key=value&amp;key=value</code></li>
</ul>
</li>
</ul>
<h4 id="不同的请求方式"><a href="#不同的请求方式" class="headerlink" title="不同的请求方式"></a>不同的请求方式</h4><ul>
<li><p>get  偏向获取 </p>
</li>
<li><p>post 偏向提交 </p>
</li>
<li><p>put  偏向更新</p>
</li>
<li><p>patch  偏向修改部分</p>
</li>
<li><p>delete 偏向删除信息</p>
</li>
<li><p>head 偏向获取服务器头的信息</p>
</li>
<li><p>option 偏向获取服务器设备信息</p>
</li>
<li><p>connnect 保留请求方式</p>
</li>
</ul>
<h2 id="三-Fetch"><a href="#三-Fetch" class="headerlink" title="三. Fetch"></a>三. Fetch</h2><pre><code>*XMLHttpRequest 是一个设计粗糙的 API，配置和调用方式非常混乱， 而且基于事件的异步模型写起来不友好。* 

**兼容性不好 polyfill: https://github.com/camsong/fetch-ie8**
</code></pre>
<h3 id="1-用法"><a href="#1-用法" class="headerlink" title="1. 用法"></a>1. 用法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/users&quot;</span>)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>res.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/users&quot;</span>,&#123;</span><br><span class="line">            <span class="attr">method</span>:<span class="string">&quot;POST&quot;</span>,</span><br><span class="line">            <span class="attr">headers</span>:&#123;</span><br><span class="line">                <span class="string">&quot;content-type&quot;</span>:<span class="string">&quot;application/json&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">body</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">                <span class="attr">username</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">                <span class="attr">password</span>:<span class="string">&quot;123&quot;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>res.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/users/5&quot;</span>,&#123;</span><br><span class="line">            <span class="attr">method</span>:<span class="string">&quot;PUT&quot;</span>,</span><br><span class="line">            <span class="attr">headers</span>:&#123;</span><br><span class="line">                <span class="string">&quot;content-type&quot;</span>:<span class="string">&quot;application/json&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">body</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123;</span><br><span class="line">                <span class="attr">username</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">                <span class="attr">password</span>:<span class="string">&quot;456&quot;</span></span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>res.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/users/5&quot;</span>,&#123;</span><br><span class="line">            <span class="attr">method</span>:<span class="string">&quot;DELETE&quot;</span></span><br><span class="line">        &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>res.<span class="title function_">json</span>())</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>
<h3 id="2-错误处理"><a href="#2-错误处理" class="headerlink" title="2. 错误处理"></a>2. 错误处理</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="title function_">fetch</span>(<span class="string">&quot;http://localhost:3000/users1&quot;</span>)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="keyword">if</span>(res.<span class="property">ok</span>)&#123;</span><br><span class="line">                    <span class="keyword">return</span> res.<span class="title function_">json</span>()</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(&#123;</span><br><span class="line">                        <span class="attr">status</span>:res.<span class="property">status</span>,</span><br><span class="line">                        <span class="attr">statusText</span>:res.<span class="property">statusText</span></span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">            &#125;)</span><br><span class="line">            .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">            &#125;)</span><br></pre></td></tr></table></figure>



<h2 id="四-axios"><a href="#四-axios" class="headerlink" title="四. axios"></a>四. axios</h2><blockquote>
<p>Axios是一个基于promise 的 HTTP 库，可以用在浏览器和 node.js中。</p>
</blockquote>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/axios">https://www.npmjs.com/package/axios</a></p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h3 id="1-get请求"><a href="#1-get请求" class="headerlink" title="1. get请求"></a>1. get请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">get</span>(<span class="string">&quot;http://localhost:3000/users&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">params</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="2-post请求"><a href="#2-post请求" class="headerlink" title="2.post请求"></a>2.post请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">post</span>(<span class="string">&quot;http://localhost:3000/users&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="3-put请求"><a href="#3-put请求" class="headerlink" title="3. put请求"></a>3. put请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">put</span>(<span class="string">&quot;http://localhost:3000/users/12&quot;</span>,&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin111&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">200</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="4-delete请求"><a href="#4-delete请求" class="headerlink" title="4. delete请求"></a>4. delete请求</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="title function_">delete</span>(<span class="string">&quot;http://localhost:3000/users/11&quot;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="5-axios-config-配置"><a href="#5-axios-config-配置" class="headerlink" title="5. axios(config)配置"></a>5. axios(config)配置</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="title function_">axios</span>(&#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;post&#x27;</span>,</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://localhost:3000/users&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;kerwin&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">100</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="6-axios拦截器"><a href="#6-axios拦截器" class="headerlink" title="6. axios拦截器"></a>6. axios拦截器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">axios.<span class="property">interceptors</span>.<span class="property">request</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">config</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something before request is sent</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;loading-开始&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> config;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// Do something with request error</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add a response interceptor</span></span><br><span class="line">axios.<span class="property">interceptors</span>.<span class="property">response</span>.<span class="title function_">use</span>(<span class="keyword">function</span> (<span class="params">response</span>) &#123;</span><br><span class="line">    <span class="comment">// Any status code that lie within the range of 2xx cause this function to trigger</span></span><br><span class="line">    <span class="comment">// Do something with response data</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;loading-结束&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> response;</span><br><span class="line">&#125;, <span class="keyword">function</span> (<span class="params">error</span>) &#123;</span><br><span class="line">    <span class="comment">// Any status codes that falls outside the range of 2xx cause this function to trigger</span></span><br><span class="line">    <span class="comment">// Do something with response error</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;loading---结束&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">reject</span>(error);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="7-axios-中断器"><a href="#7-axios-中断器" class="headerlink" title="7. axios 中断器"></a>7. axios 中断器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> controller = <span class="keyword">new</span> <span class="title class_">AbortController</span>();</span><br><span class="line"></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/foo/bar&#x27;</span>, &#123;</span><br><span class="line">   <span class="attr">signal</span>: controller.<span class="property">signal</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span>(<span class="params">response</span>) &#123;</span><br><span class="line">   <span class="comment">//...</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// cancel the request</span></span><br><span class="line">controller.<span class="title function_">abort</span>()</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="五-同源策略-Same-origin-policy"><a href="#五-同源策略-Same-origin-policy" class="headerlink" title="五. 同源策略(Same-origin policy)"></a>五. 同源策略(Same-origin policy)</h2><p>一个 URL  有三部分组成：协议、域名(指向主机)、端口，只有这三个完全相同的 URL 才能称之为同源。如下，能和  <code>http://www.example.com/dir1/index.html</code>  同源的是？</p>
<table>
<thead>
<tr>
<th>URL</th>
<th>结果</th>
<th>原因</th>
</tr>
</thead>
<tbody><tr>
<td><code>http://www.example.com/dir2/api</code></td>
<td>同源</td>
<td>只有路径不同</td>
</tr>
<tr>
<td><code>https://www.example.com/api</code></td>
<td>不同源</td>
<td>协议不同</td>
</tr>
<tr>
<td><code>http://www.example.com:81/dir1/etc.html</code></td>
<td>不同源</td>
<td>端口不同 ( <code>http://</code> 默认端口是80)</td>
</tr>
<tr>
<td><code>http://www.kerwin.com/dir1/other.html</code></td>
<td>不同源</td>
<td>域名不同</td>
</tr>
</tbody></table>
<hr>
<blockquote>
<p>（1） 无法读取非同源网页的 Cookie、LocalStorage 。<br>（2） 无法接触非同源网页的 DOM。<br>（3） 无法向非同源地址发送 AJAX 请求（可以发送，但浏览器会拒绝接受响应）。</p>
</blockquote>
<h3 id="注意："><a href="#注意：" class="headerlink" title="注意："></a><strong>注意：</strong></h3><p>同源策略是浏览器的行为，是为了保护本地数据不被JavaScript代码获取回来的数据污染，因此拦截的是客户端发出的请求回来的数据接收，即请求发送了，服务器响应了，但是无法被浏览器接收。</p>
<h2 id="六-jsonp"><a href="#六-jsonp" class="headerlink" title="六. jsonp"></a>六. jsonp</h2><p>Jsonp(JSON with Padding) 是 json 的一种”使用模式”，可以让网页从别的域名（网站）那获取资料，即跨域读取数据。</p>
<p>为什么我们从不同的域（网站）访问数据需要一个特殊的技术( JSONP )呢？这是因为同源策略。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> script = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;script&#x27;</span>)</span><br><span class="line">script.<span class="property">src</span> = <span class="string">&#x27;./kerwin.txt&#x27;</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(script)</span><br></pre></td></tr></table></figure>

<h3 id="实战"><a href="#实战" class="headerlink" title="实战"></a><strong>实战</strong></h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">mysearch.<span class="property">oninput</span> = <span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(evt.<span class="property">target</span>.<span class="property">value</span>)</span><br><span class="line">    <span class="keyword">if</span>(!evt.<span class="property">target</span>.<span class="property">value</span>)&#123;</span><br><span class="line">        list.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">return</span> </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> oscript = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>)</span><br><span class="line">    oscript.<span class="property">src</span> = <span class="string">`https://www.baidu.com/sugrec?pre=1&amp;p=3&amp;ie=utf-8&amp;json=1&amp;prod=pc&amp;from=pc_web&amp;sugsid=36542,36464,36673,36454,31660,36692,36166,36695,36697,36570,36074,36655,36345,26350,36469,36314&amp;wd=<span class="subst">$&#123;evt.target.value&#125;</span>&amp;req=2&amp;csor=1&amp;cb=test&amp;_=1656294200527`</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(oscript)</span><br><span class="line"></span><br><span class="line">    oscript.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        oscript.<span class="title function_">remove</span>()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params">obj</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">g</span>)</span><br><span class="line"></span><br><span class="line">    list.<span class="property">innerHTML</span> = obj.<span class="property">g</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span>=&gt;</span></span><br><span class="line">                               <span class="string">`&lt;li&gt;<span class="subst">$&#123;item.q&#125;</span>&lt;/li&gt;`</span></span><br><span class="line">                              ).<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-ES6教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/ES6%E6%95%99%E7%A8%8B/"
    >ES6教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/ES6%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2024-03-11T06:30:51.000Z" itemprop="datePublished">2024-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="ES6教程"><a href="#ES6教程" class="headerlink" title="ES6教程"></a>ES6教程</h1><h2 id="一-ES6基础"><a href="#一-ES6基础" class="headerlink" title="一.ES6基础"></a>一.ES6基础</h2><h5 id="1-初识ES6"><a href="#1-初识ES6" class="headerlink" title="1.初识ES6"></a>1.初识ES6</h5><blockquote>
<p>ECMAScript 6.0（以下简称 ES6）是 JavaScript 语言的下一代标准，已经在 2015 年 6 月正式发布了。它的目标，是使得 JavaScript 语言可以用来编写复杂的大型应用程序，成为企业级开发语言。</p>
</blockquote>
<ul>
<li><p>1997年：ECMAScript 1.0</p>
</li>
<li><p>1998年：ECMAScript 2.0</p>
</li>
<li><p>1999年：ECMAScript 3.0</p>
</li>
<li><p>2006年：ECMAScript 4.0 未通过</p>
</li>
<li><p>2009年：ECMAScript 5.0</p>
</li>
<li><p>2015年：ECMAScript 6.0</p>
</li>
<li><p>至今，版本号改用年号的形式。</p>
</li>
</ul>
<h5 id="2-let声明变量与const声明常量"><a href="#2-let声明变量与const声明常量" class="headerlink" title="2.let声明变量与const声明常量"></a>2.let声明变量与const声明常量</h5><ol>
<li><p><code>let</code> 不允许重复声明变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 var 的时候重复声明变量是没问题的，只不过就是后面会把前面覆盖掉</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">200</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 let 重复声明变量的时候就会报错了</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">200</span> <span class="comment">// 这里就会报错了</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用 const 重复声明变量的时候就会报错</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">const</span> num = <span class="number">200</span> <span class="comment">// 这里就会报错了</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 和 <code>const</code> 声明的变量不会在预解析的时候解析（也就是没有变量提升）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为预解析（变量提升）的原因，在前面是有这个变量的，只不过没有赋值</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">var</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为 let 不会进行预解析（变量提升），所以直接报错了</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) </span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为 const 不会进行预解析（变量提升），所以直接报错了</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) </span><br><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 和 <code>const</code> 声明的变量会被所有代码块限制作用范围</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var 声明的变量只有函数能限制其作用域，其他的不能限制</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> num = <span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// let 声明的变量，除了函数可以限制，所有的代码块都可以限制其作用域（if/while/for/...）</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// const 声明的变量，除了函数可以限制，所有的代码块都可以限制其作用域（if/while/for/...）</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 报错</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ul>
<li><p><code>let</code> 和 <code>const</code> 的区别</p>
<ol>
<li><p><code>let</code> 声明的变量的值可以改变，<code>const</code> 声明的变量的值不可以改变</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line">num = <span class="number">200</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 200</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num = <span class="number">100</span></span><br><span class="line">num = <span class="number">200</span> <span class="comment">// 这里就会报错了，因为 const 声明的变量值不可以改变（我们也叫做常量）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>let</code> 声明的时候可以不赋值，<code>const</code> 声明的时候必须赋值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num</span><br><span class="line">num = <span class="number">100</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(num) <span class="comment">// 100</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num <span class="comment">// 这里就会报错了，因为 const 声明的时候必须赋值</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h5 id="3-解构赋值"><a href="#3-解构赋值" class="headerlink" title="3.解构赋值"></a>3.解构赋值</h5><ul>
<li>解构赋值，就是快速的从对象或者数组中取出成员的一个语法方式</li>
</ul>
<h6 id="3-1-解构对象"><a href="#3-1-解构对象" class="headerlink" title="3-1 解构对象"></a>3-1 解构对象</h6><ul>
<li><p>快速的从对象中获取成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的方法向得到对象中的成员</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;kerwin&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = obj.<span class="property">name</span></span><br><span class="line"><span class="keyword">let</span> age = obj.<span class="property">age</span></span><br><span class="line"><span class="keyword">let</span> gender = obj.<span class="property">gender</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解构赋值的方式从对象中获取成员</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;kerwin&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">100</span>,</span><br><span class="line">  <span class="attr">gender</span>: <span class="string">&#x27;男&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前面的 &#123;&#125; 表示我要从 obj 这个对象中获取成员了</span></span><br><span class="line"><span class="comment">// name age gender 都得是 obj 中有的成员</span></span><br><span class="line"><span class="comment">// obj 必须是一个对象</span></span><br><span class="line"><span class="keyword">let</span> &#123; name, age, gender &#125; = obj</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="3-2-解构数组"><a href="#3-2-解构数组" class="headerlink" title="3-2 解构数组"></a>3-2 解构数组</h6><ul>
<li><p>快速的从数组中获取成员</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 的方式从数组中获取成员</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;kerwin&#x27;</span>, <span class="string">&#x27;tiechui&#x27;</span>, <span class="string">&#x27;gangdan&#x27;</span>]</span><br><span class="line"><span class="keyword">let</span> a = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">let</span> b = arr[<span class="number">1</span>]</span><br><span class="line"><span class="keyword">let</span> c = arr[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用解构赋值的方式从数组中获取成员</span></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="string">&#x27;kerwin&#x27;</span>, <span class="string">&#x27;tiechui&#x27;</span>, <span class="string">&#x27;gangdan&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 前面的 [] 表示要从 arr 这个数组中获取成员了</span></span><br><span class="line"><span class="comment">// a b c 分别对应这数组中的索引 0 1 2</span></span><br><span class="line"><span class="comment">// arr 必须是一个数组</span></span><br><span class="line"><span class="keyword">let</span> [a, b, c] = arr</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="4-模版字符串"><a href="#4-模版字符串" class="headerlink" title="4. 模版字符串"></a>4. 模版字符串</h5><ul>
<li><p>ES5 中我们表示字符串的时候使用 <code>&#39;&#39;</code> 或者 <code>&quot;&quot;</code></p>
</li>
<li><p>在 ES6 中，我们还有一个东西可以表示字符串，就是 **&#96;&#96;**（反引号）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`hello world`</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> str) <span class="comment">// string</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>和单引号好友双引号的区别</p>
<ol>
<li><p>反引号可以换行书写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个单引号或者双引号不能换行，换行就会报错了</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;hello world&#x27;</span> </span><br><span class="line"></span><br><span class="line"><span class="comment">// 下面这个就报错了</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">&#x27;hello </span></span><br><span class="line"><span class="string">world&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">	hello</span></span><br><span class="line"><span class="string">	world</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// 是可以使用的</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>反引号可以直接在字符串里面拼接变量</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES5 需要字符串拼接变量的时候</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">&#x27;hello&#x27;</span> + num + <span class="string">&#x27;world&#x27;</span> + num</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// hello100world100</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 直接写在字符串里面不好使</span></span><br><span class="line"><span class="keyword">let</span> str2 = <span class="string">&#x27;hellonumworldnum&#x27;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str2) <span class="comment">// hellonumworldnum</span></span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 模版字符串拼接变量</span></span><br><span class="line"><span class="keyword">let</span> num = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> str = <span class="string">`hello<span class="subst">$&#123;num&#125;</span>world<span class="subst">$&#123;num&#125;</span>`</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str) <span class="comment">// hello100world100</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在 <strong>&#96;&#96;</strong> 里面的 <code>$&#123;&#125;</code> 就是用来书写变量的位置</li>
</ul>
</li>
</ol>
</li>
</ul>
<h5 id="5-字符串扩展"><a href="#5-字符串扩展" class="headerlink" title="5.字符串扩展"></a>5.字符串扩展</h5><h6 id="5-1-includes函数"><a href="#5-1-includes函数" class="headerlink" title="5-1 includes函数"></a>5-1 includes函数</h6><p>判断字符串中是否存在指定字符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myname = <span class="string">&quot;kerwin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">includes</span>(<span class="string">&quot;e&quot;</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">startsWith</span>(<span class="string">&quot;k&quot;</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">endsWith</span>(<span class="string">&quot;n&quot;</span>)) <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h6 id="5-2-repeat函数"><a href="#5-2-repeat函数" class="headerlink" title="5-2 repeat函数"></a>5-2 repeat函数</h6><p>repeat()方法返回一个新字符串,表示将原字符串重复n次。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> myname = <span class="string">&quot;kerwin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">repeat</span>(<span class="number">3</span>)) <span class="comment">//kerwinkerwinkerwin</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">repeat</span>(<span class="number">0</span>)) <span class="comment">//&quot;&quot; </span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">repeat</span>(<span class="number">3.5</span>)) <span class="comment">//kerwinkerwinkerwin</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myname.<span class="title function_">repeat</span>(<span class="string">&quot;3&quot;</span>))<span class="comment">//kerwinkerwinkerwin</span></span><br></pre></td></tr></table></figure>

<h5 id="6-数值扩展"><a href="#6-数值扩展" class="headerlink" title="6.数值扩展"></a>6.数值扩展</h5><h6 id="6-1-二进制和八进制表示法"><a href="#6-1-二进制和八进制表示法" class="headerlink" title="6-1 二进制和八进制表示法"></a>6-1 二进制和八进制表示法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> count1 = <span class="number">100</span></span><br><span class="line"><span class="keyword">let</span> count2 = <span class="number">0x100</span></span><br><span class="line"><span class="keyword">let</span> count3 = <span class="number">0o100</span></span><br><span class="line"><span class="keyword">let</span> count4 = <span class="number">0b100</span></span><br></pre></td></tr></table></figure>

<h6 id="6-2-isFinite与isNaN方法"><a href="#6-2-isFinite与isNaN方法" class="headerlink" title="6-2 isFinite与isNaN方法"></a>6-2 isFinite与isNaN方法</h6><p>减少全局性方法，使得语言逐步模块化</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="title class_">Number</span>.<span class="built_in">isFinite</span>(<span class="number">100</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="title class_">Number</span>.<span class="built_in">isFinite</span>(<span class="number">100</span>/<span class="number">0</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="title class_">Number</span>.<span class="built_in">isFinite</span>(<span class="title class_">Infinity</span>) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="title class_">Number</span>.<span class="built_in">isFinite</span>(<span class="string">&quot;100&quot;</span>) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="number">100</span>) <span class="comment">// false</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="title class_">NaN</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="string">&quot;kerwin&quot;</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="title class_">Number</span>.<span class="built_in">isNaN</span>(<span class="string">&quot;100&quot;</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>



<p>它们与传统的全局方法isFinite()和isNaN()的区别在于，传统方法先调用Number()将非数值的值转为数值，再进行判断，而这两个新方法只对数值有效，Number.isFinite()对于非数值一律返回false, Number.isNaN()只有对于NaN才返回true，非NaN一律返回false。</p>
<h6 id="6-3-isInteger方法"><a href="#6-3-isInteger方法" class="headerlink" title="6-3 isInteger方法"></a>6-3 isInteger方法</h6><p>用来判断一个数值是否为整数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> num1 = <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="number">100</span>) <span class="comment">// true</span></span><br><span class="line"><span class="keyword">let</span> num2 = <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="number">100.0</span>) <span class="comment">//true</span></span><br><span class="line"><span class="keyword">let</span> num3 = <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="string">&quot;kerwin&quot;</span>) <span class="comment">//false</span></span><br><span class="line"><span class="keyword">let</span> num4 = <span class="title class_">Number</span>.<span class="title function_">isInteger</span>(<span class="string">&quot;100&quot;</span>) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h6 id="6-4-极小常量Number-EPSILON"><a href="#6-4-极小常量Number-EPSILON" class="headerlink" title="6-4 极小常量Number.EPSILON"></a>6-4 极小常量Number.EPSILON</h6><p>它表示 1 与大于 1 的最小浮点数之间的差。2.220446049250313e-16</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isEqual</span>(<span class="params">a,b</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">abs</span>(a-b)&lt;<span class="title class_">Number</span>.<span class="property">EPSILON</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">isEqual</span>(<span class="number">0.1</span>+<span class="number">0.2</span>,<span class="number">0.3</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">0.1</span>+<span class="number">0.2</span>===<span class="number">0.3</span>) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

<h6 id="6-5-Math-trunc"><a href="#6-5-Math-trunc" class="headerlink" title="6-5 Math.trunc"></a>6-5 Math.trunc</h6><p>将小数部分抹掉,返回一个整数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="number">1.2</span>)) <span class="comment">//1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(<span class="number">1.8</span>))<span class="comment">// 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(-<span class="number">1.8</span>)) <span class="comment">//-1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Math</span>.<span class="title function_">trunc</span>(-<span class="number">1.2</span>))<span class="comment">//-1</span></span><br></pre></td></tr></table></figure>

<h6 id="6-6-Math-sign"><a href="#6-6-Math-sign" class="headerlink" title="6-6 Math.sign"></a>6-6 Math.sign</h6><p><code>Math.sign</code>方法用来判断一个数到底是正数、负数、还是零。对于非数值，会先将其转换为数值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">sign</span>(-<span class="number">100</span>) <span class="comment">// -1</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sign</span>(<span class="number">100</span>) <span class="comment">// +1</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sign</span>(<span class="number">0</span>) <span class="comment">// +0</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sign</span>(-<span class="number">0</span>) <span class="comment">// -0</span></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">sign</span>(<span class="string">&quot;kerwin&quot;</span>) <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<h5 id="7-数组扩展"><a href="#7-数组扩展" class="headerlink" title="7.数组扩展"></a>7.数组扩展</h5><h6 id="7-1-扩展运算符"><a href="#7-1-扩展运算符" class="headerlink" title="7-1 扩展运算符"></a>7-1 扩展运算符</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>([...arr1,...arr2])</span><br></pre></td></tr></table></figure>

<h6 id="7-2-Array-from"><a href="#7-2-Array-from" class="headerlink" title="7-2 Array.from"></a>7-2 Array.from</h6><p>将类数组对象转换为真正数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">arguments</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> oli = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;li&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Array</span>.<span class="title function_">from</span>(oli))</span><br></pre></td></tr></table></figure>

<h6 id="7-3-Array-of"><a href="#7-3-Array-of" class="headerlink" title="7-3 Array.of"></a>7-3 Array.of</h6><p>将一组值转化为数组,即新建数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = <span class="title class_">Array</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1)<span class="comment">// [,,]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr2 = <span class="title class_">Array</span>.<span class="title function_">of</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2)<span class="comment">// [3]</span></span><br></pre></td></tr></table></figure>

<h6 id="7-4-find方法"><a href="#7-4-find方法" class="headerlink" title="7-4. find方法"></a>7-4. find方法</h6><p>1)该方法主要应用于查找第一个符合条件的数组元素 </p>
<p>2)它的参数是一个回调函数。在回调函数中可以写你要查找元素的条件,当条件成立为true时,返回该元素。如果没有符合条件的元素,返回值为undefined </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]</span><br><span class="line"><span class="keyword">let</span> res1 = arr.<span class="title function_">find</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">13</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> res2 = arr.<span class="title function_">findIndex</span>(<span class="keyword">function</span>(<span class="params">item</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> item&gt;<span class="number">13</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res1) <span class="comment">//14</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res2) <span class="comment">//3</span></span><br></pre></td></tr></table></figure>



<h6 id="7-5-fill方法"><a href="#7-5-fill方法" class="headerlink" title="7-5. fill方法"></a>7-5. fill方法</h6><p>使用自己想要的参数替换原数组内容,但是会改变原来的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr1 = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="number">3</span>).<span class="title function_">fill</span>(<span class="string">&quot;kerwin&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> arr2 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>].<span class="title function_">fill</span>(<span class="string">&quot;kerwin&quot;</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr1)<span class="comment">//[&#x27;kerwin&#x27;, &#x27;kerwin&#x27;, &#x27;kerwin&#x27;]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr2)<span class="comment">// [&#x27;a&#x27;, &#x27;kerwin&#x27;, &#x27;c&#x27;]</span></span><br></pre></td></tr></table></figure>

<h6 id="7-6-flat与flatMap方法"><a href="#7-6-flat与flatMap方法" class="headerlink" title="7-6 flat与flatMap方法"></a>7-6 flat与flatMap方法</h6><p>按照一个可指定的深度递归遍历数组,并将所有元素与遍历到的子数组中的元素合并为一个新数组返回</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = [&#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;A&quot;</span>,</span><br><span class="line">                <span class="attr">list</span>: [<span class="string">&quot;鞍山&quot;</span>, <span class="string">&quot;安庆&quot;</span>, <span class="string">&quot;安阳&quot;</span>]</span><br><span class="line">            &#125;,</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="attr">name</span>: <span class="string">&quot;B&quot;</span>,</span><br><span class="line">                <span class="attr">list</span>: [<span class="string">&quot;北京&quot;</span>, <span class="string">&quot;保定&quot;</span>, <span class="string">&quot;包头&quot;</span>]</span><br><span class="line">            &#125;</span><br><span class="line">]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="title function_">flatMap</span>(<span class="function"><span class="params">item</span> =&gt;</span> item.<span class="property">list</span>))</span><br></pre></td></tr></table></figure>



<h5 id="8-对象扩展"><a href="#8-对象扩展" class="headerlink" title="8.对象扩展"></a>8.对象扩展</h5><h6 id="8-1-对象简写"><a href="#8-1-对象简写" class="headerlink" title="8-1 对象简写"></a>8-1 对象简写</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name =<span class="string">&quot;moduleA&quot;</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name,</span><br><span class="line">    <span class="title function_">test1</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">test2</span>(<span class="params"></span>)&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="8-2-属性名表达式"><a href="#8-2-属性名表达式" class="headerlink" title="8-2 属性名表达式"></a>8-2 属性名表达式</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name =<span class="string">&quot;moduleA&quot;</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    name,</span><br><span class="line">    [name+<span class="string">&quot;test1&quot;</span>]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    [name+<span class="string">&quot;test2&quot;</span>]()&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h6 id="8-3-Object-assign"><a href="#8-3-Object-assign" class="headerlink" title="8-3 Object.assign"></a>8-3 Object.assign</h6><p>Object.assign(target, object1，object2)的第一个参数是目标对象，后面可以跟一个或多个源对象作为参数。</p>
<p>target：参数合并后存放的对象</p>
<p>object1：参数1</p>
<p>object2：参数2</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;kerwin&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;tiechui&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> obj3 = &#123;</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(obj1, obj2, obj3);</span><br><span class="line"><span class="comment">//obj1 &#123;name: &#x27;tiechui&#x27;, age: 100&#125;</span></span><br></pre></td></tr></table></figure>
<h6 id="8-4-Object-is"><a href="#8-4-Object-is" class="headerlink" title="8-4 Object.is"></a>8-4 Object.is</h6><p>方法判断两个值是否是相同的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">NaN</span>===<span class="title class_">NaN</span>) <span class="comment">//false</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(+<span class="number">0</span>===-<span class="number">0</span>) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(<span class="title class_">NaN</span>,<span class="title class_">NaN</span>)) <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">is</span>(+<span class="number">0</span>,-<span class="number">0</span>)) <span class="comment">//false</span></span><br></pre></td></tr></table></figure>



<h5 id="9-函数扩展"><a href="#9-函数扩展" class="headerlink" title="9.函数扩展"></a>9.函数扩展</h5><h6 id="9-1-箭头函数"><a href="#9-1-箭头函数" class="headerlink" title="9-1 箭头函数"></a>9-1 箭头函数</h6><ul>
<li><p>箭头函数是 ES6 里面一个简写函数的语法方式</p>
</li>
<li><p>重点： <strong>箭头函数只能简写函数表达式，不能简写声明式函数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params"></span>) &#123;&#125; <span class="comment">// 不能简写</span></span><br><span class="line"><span class="keyword">const</span> fun = <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125; <span class="comment">// 可以简写</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;&#125; <span class="comment">// 可以简写</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>语法： <code>(函数的行参) =&gt; &#123; 函数体内要执行的代码 &#125;</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fn = <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用箭头函数写成</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fun</span> = (<span class="params">a, b</span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 可以使用箭头函数写成</span></span><br><span class="line"><span class="keyword">const</span> obj2 = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="9-2-箭头函数的特殊性"><a href="#9-2-箭头函数的特殊性" class="headerlink" title="9-2 箭头函数的特殊性"></a>9-2 箭头函数的特殊性</h6><ul>
<li><p>箭头函数内部没有 this，箭头函数的 this 是上下文的 this</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在箭头函数定义的位置往上数，这一行是可以打印出 this 的</span></span><br><span class="line"><span class="comment">// 因为这里的 this 是 window</span></span><br><span class="line"><span class="comment">// 所以箭头函数内部的 this 就是 window</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 这个位置是箭头函数的上一行，但是不能打印出 this</span></span><br><span class="line">  <span class="attr">fun</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 箭头函数内部的 this 是书写箭头函数的上一行一个可以打印出 this 的位置</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">fn</span>()</span><br><span class="line">obj.<span class="title function_">fun</span>()</span><br></pre></td></tr></table></figure>

<ul>
<li>按照我们之前的 this 指向来判断，两个都应该指向 obj</li>
<li>但是 fun 因为是箭头函数，所以 this 不指向 obj，而是指向 fun 的外层，就是 window</li>
</ul>
</li>
<li><p>箭头函数内部没有 <code>arguments</code> 这个参数集合</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fun</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">arguments</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">obj.<span class="title function_">fn</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 会打印一个伪数组 [1, 2, 3]</span></span><br><span class="line">obj.<span class="title function_">fun</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// 会直接报错</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的行参只有一个的时候可以不写 <code>()</code> 其余情况必须写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;没有参数，必须写小括号&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fn2</span>: <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;一个行参，可以不写小括号&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fn3</span>: <span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;两个或两个以上参数，必须写小括号&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数体只有一行代码的时候，可以不写 <code>&#123;&#125;</code> ，并且会自动 return</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">fn</span>: <span class="function"><span class="params">a</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a + <span class="number">10</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fun</span>: <span class="function"><span class="params">a</span> =&gt;</span> a + <span class="number">10</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fn</span>(<span class="number">10</span>)) <span class="comment">// 20</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">fun</span>(<span class="number">10</span>)) <span class="comment">// 20</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="9-3-函数传递参数的时候的默认值"><a href="#9-3-函数传递参数的时候的默认值" class="headerlink" title="9-3 函数传递参数的时候的默认值"></a>9-3 函数传递参数的时候的默认值</h6><ul>
<li><p>我们在定义函数的时候，有的时候需要一个默认值出现</p>
</li>
<li><p>就是当我不传递参数的时候，使用默认值，传递参数了就使用传递的参数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a</span>) &#123;</span><br><span class="line">  a = a || <span class="number">10</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在 ES6 中我们可以直接把默认值写在函数的行参位置</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">fn</span>(<span class="params">a = <span class="number">10</span></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>这个默认值的方式箭头函数也可以使用</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">fn</span> = (<span class="params">a = <span class="number">10</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn</span>()   <span class="comment">// 不传递参数的时候，函数内部的 a 就是 10</span></span><br><span class="line"><span class="title function_">fn</span>(<span class="number">20</span>) <span class="comment">// 传递了参数 20 的时候，函数内部的 a 就是 20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>注意： <strong>箭头函数如果你需要使用默认值的话，那么一个参数的时候也需要写 （）</strong></li>
</ul>
</li>
</ul>
<h5 id="10-Symbol"><a href="#10-Symbol" class="headerlink" title="10.Symbol"></a>10.Symbol</h5><blockquote>
<p>ES6 引入了一种新的原始数据类型<code>Symbol</code>，表示独一无二的值。它属于 JavaScript 语言的原生数据类型之一，其他数据类型是：<code>undefined</code>、<code>null</code>、布尔值（Boolean）、字符串（String）、数值（Number）、对象（Object）。</p>
</blockquote>
<ol>
<li>使用Symbol作为对象属性名</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="keyword">let</span> age = <span class="title class_">Symbol</span>()</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [name]:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    [age]:<span class="number">100</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Symbol()函数可以接受一个字符串作为参数，表示对 Symbol 实例的描述。这主要是为了在控制台显示，比较容易区分。</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> name = <span class="title class_">Symbol</span>(<span class="string">&quot;name&quot;</span>)</span><br><span class="line"><span class="keyword">let</span> age = <span class="title class_">Symbol</span>(<span class="string">&quot;age&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [name]:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    [age]:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>遍历问题</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> keys = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="title class_">Symbol</span>(<span class="string">&quot;name&quot;</span>),</span><br><span class="line">    <span class="attr">age</span>:<span class="title class_">Symbol</span>(<span class="string">&quot;age&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [keys.<span class="property">name</span>]:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    [keys.<span class="property">age</span>]:<span class="number">100</span>,</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>:<span class="number">2</span>,</span><br><span class="line">    <span class="attr">c</span>:<span class="number">3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">ownKeys</span>(obj).<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(item,obj[item])</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<ol start="4">
<li>Symbol.for()可以重新使用同一个 Symbol 值</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj  =&#123;</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>)]:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;age&quot;</span>)]:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj[<span class="title class_">Symbol</span>.<span class="title function_">for</span>(<span class="string">&quot;name&quot;</span>)])</span><br></pre></td></tr></table></figure>

<h5 id="11-Iterator迭代器"><a href="#11-Iterator迭代器" class="headerlink" title="11.Iterator迭代器"></a>11.Iterator迭代器</h5><blockquote>
<p>Iterator 的作用有三个：</p>
<p>一是为各种数据结构，提供一个统一的、简便的访问接口；</p>
<p>二是使得数据结构的成员能够按某种次序排列；</p>
<p>三是 ES6 创造了一种新的遍历命令<strong>for…of</strong>循环，Iterator 接口主要供<strong>for…of</strong>循环</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;kerwin&quot;</span>, <span class="string">&quot;tiechui&quot;</span>, <span class="string">&quot;gangdaner&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> arr)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Iterator</span> 的遍历过程是这样的。</span><br><span class="line"></span><br><span class="line">（<span class="number">1</span>）创建一个指针对象，指向当前数据结构的起始位置。也就是说，遍历器对象本质上，就是一个指针对象。</span><br><span class="line"></span><br><span class="line">（<span class="number">2</span>）第一次调用指针对象的next方法，可以将指针指向数据结构的第一个成员。</span><br><span class="line"></span><br><span class="line">（<span class="number">3</span>）第二次调用指针对象的next方法，指针就指向数据结构的第二个成员。</span><br><span class="line"></span><br><span class="line">（<span class="number">4</span>）不断调用指针对象的next方法，直到它指向数据结构的结束位置。</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> i = arr[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(i.<span class="title function_">next</span>())</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ES6 规定，默认的 Iterator 接口部署在数据结构的Symbol.iterator属性，或者说，一个数据结构只要具有Symbol.iterator属性，就可以认为是“可遍历的”（iterable）。Symbol.iterator属性本身是一个函数，就是当前数据结构默认的遍历器生成函数。执行这个函数，就会返回一个遍历器。</p>
</blockquote>
<p>原生默认具备 Iterator 接口的数据结构如下。</p>
<ul>
<li>Array</li>
<li>Set</li>
<li>Map</li>
<li>String</li>
<li>arguments 对象</li>
<li>NodeList 对象</li>
</ul>
<p><strong>如何对于对象进行for fo遍历？</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="number">0</span>: <span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="number">1</span>: <span class="string">&quot;tiechui&quot;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&quot;gangdaner&quot;</span>,</span><br><span class="line">    <span class="attr">length</span>: <span class="number">3</span>,</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">data</span>: [<span class="string">&#x27;kerwin&#x27;</span>, <span class="string">&#x27;tiechui&#x27;</span>, <span class="string">&quot;gangdaner&quot;</span>],</span><br><span class="line">    [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]() &#123;</span><br><span class="line">        <span class="comment">// let _this = this</span></span><br><span class="line">        <span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">            <span class="attr">next</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (index &lt; <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">length</span>) &#123;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">value</span>: <span class="variable language_">this</span>.<span class="property">data</span>[index++],</span><br><span class="line">                        <span class="attr">done</span>: <span class="literal">false</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> &#123;</span><br><span class="line">                        <span class="attr">value</span>: <span class="literal">undefined</span>,</span><br><span class="line">                        <span class="attr">done</span>: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">of</span> obj2) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="12-Set结构"><a href="#12-Set结构" class="headerlink" title="12.Set结构"></a>12.Set结构</h5><blockquote>
<p>它类似于数组，但成员的值都是唯一的，没有重复的值。</p>
</blockquote>
<h6 id="12-1-初识Set"><a href="#12-1-初识Set" class="headerlink" title="12-1 初识Set"></a>12-1 初识Set</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s1 = <span class="keyword">new</span> <span class="title class_">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> s2 = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">s2.<span class="title function_">add</span>(<span class="number">1</span>)</span><br><span class="line">s2.<span class="title function_">add</span>(<span class="number">2</span>)</span><br><span class="line">s2.<span class="title function_">add</span>(<span class="number">3</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s2)</span><br></pre></td></tr></table></figure>



<h6 id="12-2-实例的属性和方法"><a href="#12-2-实例的属性和方法" class="headerlink" title="12-2 实例的属性和方法"></a>12-2 实例的属性和方法</h6><ul>
<li><p>size：返回Set实例的成员总数。</p>
</li>
<li><p><code>Set.prototype.add(value)</code>：添加某个value。</p>
</li>
<li><p><code>Set.prototype.delete(value)</code>：删除某个value，返回一个布尔值，表示删除是否成功。</p>
</li>
<li><p><code>Set.prototype.has(value)</code>：返回一个布尔值，表示该值是否为<code>Set</code>的成员。</p>
</li>
<li><p><code>Set.prototype.clear()</code>：清除所有成员，没有返回值。</p>
</li>
</ul>
<h6 id="12-3-遍历"><a href="#12-3-遍历" class="headerlink" title="12-3 遍历"></a>12-3 遍历</h6><ul>
<li><code>Set.prototype.keys()</code>：返回键名的遍历器</li>
<li><code>Set.prototype.values()</code>：返回键值的遍历器</li>
<li><code>Set.prototype.entries()</code>：返回键值对的遍历器</li>
<li><code>Set.prototype.forEach()</code>：遍历每个成员</li>
</ul>
<h6 id="12-4-复杂数据结构去重"><a href="#12-4-复杂数据结构去重" class="headerlink" title="12-4 复杂数据结构去重"></a>12-4 复杂数据结构去重</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">uni</span>(<span class="params">arr</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line">    <span class="keyword">return</span> arr.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> id = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(item)</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="title function_">has</span>(id)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            res.<span class="title function_">add</span>(id)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="string">&quot;data&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;kerwin&quot;</span></span><br><span class="line">&#125;, &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;kerwin&quot;</span></span><br><span class="line">&#125;,</span><br><span class="line">           [<span class="number">1</span>, <span class="number">2</span>],</span><br><span class="line">           [<span class="number">3</span>, <span class="number">4</span>],</span><br><span class="line">           [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">          ]</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title function_">uni</span>(arr))</span><br></pre></td></tr></table></figure>

<h5 id="13-Map结构"><a href="#13-Map结构" class="headerlink" title="13.Map结构"></a>13.Map结构</h5><blockquote>
<p>类似于对象，也是键值对的集合，但是“键”的范围不限于字符串，各种类型的值（包括对象）都可以当作键。</p>
</blockquote>
<h6 id="13-1-初识Map"><a href="#13-1-初识Map" class="headerlink" title="13-1 初识Map"></a>13-1 初识Map</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> m1 = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">m1.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;kerwin&quot;</span>)</span><br><span class="line">m1.<span class="title function_">set</span>(&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,<span class="string">&quot;大连&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m1)</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> m2= <span class="keyword">new</span> <span class="title class_">Map</span>([</span><br><span class="line">    [<span class="string">&quot;name&quot;</span>,<span class="string">&quot;kerwin&quot;</span>],</span><br><span class="line">    [&#123;<span class="attr">a</span>:<span class="number">1</span>&#125;,<span class="string">&quot;大连&quot;</span>]</span><br><span class="line">])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(m2)</span><br></pre></td></tr></table></figure>

<h6 id="13-2-实例的属性和方法"><a href="#13-2-实例的属性和方法" class="headerlink" title="13-2 实例的属性和方法"></a>13-2 实例的属性和方法</h6><ul>
<li><p>size：返回 Map 结构的成员总数。</p>
</li>
<li><p><code>Map.prototype.set(key,value)</code>：添加key对应得value，返回 Map 结构本身。</p>
</li>
<li><p><code>Map.prototype.get(key)</code>：获取key对应的value</p>
</li>
<li><p><code>Map.prototype.delete(key)</code>：删除某个键（键名+键值）</p>
</li>
<li><p><code>Map.prototype.has(key)</code>：某个键是否在当前 Map 对象之中。</p>
</li>
<li><p><code>Map.prototype.clear()</code>：清除所有成员，没有返回值。</p>
</li>
</ul>
<h6 id="13-3-遍历"><a href="#13-3-遍历" class="headerlink" title="13-3 遍历"></a>13-3 遍历</h6><ul>
<li>Map.prototype.keys()：返回键名的遍历器。</li>
<li>Map.prototype.values()：返回键值的遍历器。</li>
<li>Map.prototype.entries()：返回所有成员的遍历器。</li>
<li>Map.prototype.forEach()：遍历 Map 的所有成员。</li>
</ul>
<h5 id="14-Proxy代理"><a href="#14-Proxy代理" class="headerlink" title="14.Proxy代理"></a>14.Proxy代理</h5><blockquote>
<p>Proxy如其名， 它的作用是在对象和和对象的属性值之间设置一个代理，获取该对象的值或者设置该对象的值， 以及实例化等等多种操作， 都会被拦截住， 经过这一层我们可以统一处理，我们可以认为它就是“代理器”</p>
</blockquote>
<h6 id="14-1-get方法"><a href="#14-1-get方法" class="headerlink" title="14-1.get方法"></a>14-1.get方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,prop</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h6 id="14-2-set方法"><a href="#14-2-set方法" class="headerlink" title="14-2.set方法"></a>14-2.set方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target,&#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target,prop</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target,prop,value</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(prop===<span class="string">&quot;data&quot;</span>)&#123;</span><br><span class="line">            box.<span class="property">innerHTML</span> = value</span><br><span class="line">        &#125;</span><br><span class="line">        target[prop] = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h6 id="14-3-has方法"><a href="#14-3-has方法" class="headerlink" title="14-3.has方法"></a>14-3.has方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;</span><br><span class="line">    <span class="attr">_prop</span>: <span class="string">&quot;内部数据&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, prop</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> target[prop]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, prop, value</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (prop === <span class="string">&quot;data&quot;</span>) &#123;</span><br><span class="line">            box.<span class="property">innerHTML</span> = value</span><br><span class="line">        &#125;</span><br><span class="line">        target[prop] = value;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">has</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (key[<span class="number">0</span>] === <span class="string">&#x27;_&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> key <span class="keyword">in</span> target;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h6 id="14-4-this问题"><a href="#14-4-this问题" class="headerlink" title="14-4.this问题"></a>14-4.this问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> value =  target[key]</span><br><span class="line">        <span class="comment">// 遇到 Function 都手动绑定一下 this</span></span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`访问<span class="subst">$&#123;value&#125;</span>方法了`</span>)</span><br><span class="line">            <span class="keyword">return</span> value.<span class="title function_">bind</span>(target)</span><br><span class="line">            <span class="comment">//不能 是 call apply </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.<span class="title function_">add</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>



<blockquote>
<p>Proxy本质上属于元编程非破坏性数据劫持，在原对象的基础上进行了功能的衍生而又不影响原对象，符合松耦合高内聚的设计理念。</p>
</blockquote>
<h5 id="15-Reflect对象"><a href="#15-Reflect对象" class="headerlink" title="15.Reflect对象"></a>15.Reflect对象</h5><blockquote>
<p>Reflect 可以用于获取目标对象的行为，它与 Object 类似，但是更易读，为操作对象提供了一种更优雅的方式。它的方法与 Proxy 是对应的。</p>
</blockquote>
<h6 id="15-1-代替Object的某些方法"><a href="#15-1-代替Object的某些方法" class="headerlink" title="15-1 代替Object的某些方法"></a>15-1 代替Object的某些方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(obj, <span class="string">&#x27;name&#x27;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="string">&#x27;kerwin&#x27;</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">configurable</span>:<span class="literal">false</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="15-2-修改某些Object方法返回结果"><a href="#15-2-修改某些Object方法返回结果" class="headerlink" title="15-2 修改某些Object方法返回结果"></a>15-2 修改某些Object方法返回结果</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 老写法</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(target, property, attributes);</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">  <span class="comment">// fail</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 新写法</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title class_">Reflect</span>.<span class="title function_">defineProperty</span>(target, property, attributes)) &#123;</span><br><span class="line">  <span class="comment">// success</span></span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">// fail</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h6 id="15-3-命令式变为函数行为"><a href="#15-3-命令式变为函数行为" class="headerlink" title="15-3 命令式变为函数行为"></a>15-3 命令式变为函数行为</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//老写法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;name&quot;</span> <span class="keyword">in</span> obj) <span class="comment">//true</span></span><br><span class="line"><span class="comment">//新写法</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Reflect</span>.<span class="title function_">has</span>(obj, <span class="string">&#x27;name&#x27;</span>)) <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//老写法</span></span><br><span class="line"><span class="keyword">delete</span> obj.<span class="property">name</span></span><br><span class="line"><span class="comment">//新写法</span></span><br><span class="line"><span class="title class_">Reflect</span>.<span class="title function_">deleteProperty</span>(obj, <span class="string">&quot;name&quot;</span>)</span><br></pre></td></tr></table></figure>

<h6 id="15-4-配合Proxy"><a href="#15-4-配合Proxy" class="headerlink" title="15-4 配合Proxy"></a>15-4 配合Proxy</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = <span class="keyword">new</span> <span class="title class_">Set</span>()</span><br><span class="line"><span class="keyword">const</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(target, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> value = <span class="title class_">Reflect</span>.<span class="title function_">get</span>(target,key)</span><br><span class="line">        <span class="comment">// 遇到 Function 都手动绑定一下 this</span></span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">instanceof</span> <span class="title class_">Function</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`访问<span class="subst">$&#123;value&#125;</span>方法了`</span>)</span><br><span class="line">            <span class="keyword">return</span> value.<span class="title function_">bind</span>(target)</span><br><span class="line">            <span class="comment">//不能 是 call apply </span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.<span class="title function_">add</span>(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">let</span> proxy = <span class="keyword">new</span> <span class="title class_">Proxy</span>(arr, &#123;</span><br><span class="line">    <span class="title function_">get</span>(<span class="params">target, key</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;get&#x27;</span>, key)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">get</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">target, key, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;set&#x27;</span>, key, value)</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Reflect</span>.<span class="title function_">set</span>(...<span class="variable language_">arguments</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">proxy.<span class="title function_">push</span>(<span class="number">4</span>)</span><br><span class="line"><span class="comment">// 能够打印出很多内容</span></span><br><span class="line"><span class="comment">// get push     (寻找 proxy.push 方法)</span></span><br><span class="line"><span class="comment">// get length   (获取当前的 length)</span></span><br><span class="line"><span class="comment">// set 3 4      (设置 proxy[3] = 4)</span></span><br><span class="line"><span class="comment">// set length 4 (设置 proxy.length = 4)</span></span><br></pre></td></tr></table></figure>

<h5 id="16-Promise"><a href="#16-Promise" class="headerlink" title="16.Promise"></a>16.Promise</h5><blockquote>
<p>Promise 是异步编程的一种解决方案，比传统的解决方案回调函数,  更合理和更强大。ES6 将其写进了语言标准，统一了用法，原生提供了Promise对象 。</p>
</blockquote>
<ul>
<li><p>指定回调函数方式更灵活易懂。</p>
</li>
<li><p>解决异步 <strong>回调地狱</strong> 的问题。</p>
</li>
</ul>
<h6 id="16-1-回调地狱"><a href="#16-1-回调地狱" class="headerlink" title="16-1 回调地狱"></a>16-1 回调地狱</h6><ul>
<li><p>当一个回调函数嵌套一个回调函数的时候</p>
</li>
<li><p>就会出现一个嵌套结构</p>
</li>
<li><p>当嵌套的多了就会出现回调地狱的情况</p>
</li>
<li><p>比如我们发送三个 ajax 请求</p>
<ul>
<li>第一个正常发送</li>
<li>第二个请求需要第一个请求的结果中的某一个值作为参数</li>
<li>第三个请求需要第二个请求的结果中的某一个值作为参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">ajax</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;我是第一个请求&#x27;</span>,</span><br><span class="line">  success (res) &#123;</span><br><span class="line">    <span class="comment">// 现在发送第二个请求</span></span><br><span class="line">    <span class="title function_">ajax</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;我是第二个请求&#x27;</span>，</span><br><span class="line">      <span class="attr">data</span>: &#123; <span class="attr">a</span>: res.<span class="property">a</span>, <span class="attr">b</span>: res.<span class="property">b</span> &#125;,</span><br><span class="line">      success (res2) &#123;</span><br><span class="line">        <span class="comment">// 进行第三个请求</span></span><br><span class="line">        <span class="title function_">ajax</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;我是第三个请求&#x27;</span>,</span><br><span class="line">          <span class="attr">data</span>: &#123; <span class="attr">a</span>: res2.<span class="property">a</span>, <span class="attr">b</span>: res2.<span class="property">b</span> &#125;,</span><br><span class="line">  				success (res3) &#123; </span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res3) </span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>回调地狱，其实就是回调函数嵌套过多导致的</strong></p>
</li>
</ul>
<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-u6H56r6e-1681921901149)(%E7%AC%94%E8%AE%B0.assets&#x2F;%E5%9B%9E%E8%B0%83%E5%9C%B0%E7%8B%B1.jpeg)]</p>
<ul>
<li>当代码成为这个结构以后，已经没有维护的可能了</li>
</ul>
<h6 id="16-2-Promise使用"><a href="#16-2-Promise使用" class="headerlink" title="16-2 Promise使用"></a>16-2 Promise使用</h6><ul>
<li><p>语法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">  <span class="comment">// resolve 表示成功的回调</span></span><br><span class="line">  <span class="comment">// reject 表示失败的回调</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">  <span class="comment">// 成功的函数</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="keyword">function</span> (<span class="params">err</span>) &#123;</span><br><span class="line">  <span class="comment">// 失败的函数</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
<h6 id="16-3-Promise-对象的状态"><a href="#16-3-Promise-对象的状态" class="headerlink" title="16-3 Promise 对象的状态"></a>16-3 Promise 对象的状态</h6><p>Promise 对象通过自身的状态，来控制异步操作。Promise 实例具有三种状态。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">异步操作未完成（pending）</span><br><span class="line">异步操作成功（fulfilled）</span><br><span class="line">异步操作失败（rejected）</span><br></pre></td></tr></table></figure>

<p>这三种的状态的变化途径只有两种。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">从“未完成”到“成功”</span><br><span class="line">从“未完成”到“失败”</span><br></pre></td></tr></table></figure>

<p>一旦状态发生变化，就凝固了，不会再有新的状态变化。这也是 Promise 这个名字的由来，它的英语意思是“承诺”，一旦承诺成效，就不得再改变了。这也意味着，Promise 实例的状态变化只可能发生一次。</p>
<p>因此，Promise 的最终结果只有两种。</p>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">异步操作成功，Promise 实例传回一个值（value），状态变为fulfilled。</span><br><span class="line">异步操作失败，Promise 实例抛出一个错误（error），状态变为rejected。</span><br></pre></td></tr></table></figure>

<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-X5z03Bpt-1681921901150)(%E7%AC%94%E8%AE%B0.assets&#x2F;image-20220902141409899.png)]</p>
<h6 id="16-4-Promise-all"><a href="#16-4-Promise-all" class="headerlink" title="16-4 Promise.all"></a>16-4 Promise.all</h6><p><code>Promise.all()</code>方法用于将多个 Promise 实例，包装成一个新的 Promise 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">all</span>([p1, p2, p3]);</span><br></pre></td></tr></table></figure>

<p>p的状态由p1,p2,p3 决定，分成两种情况。</p>
<p>（1）只有<code>p1</code>、<code>p2</code>、<code>p3</code>的状态都变成<code>fulfilled</code>，<code>p</code>的状态才会变成<code>fulfilled</code>，此时<code>p1</code>、<code>p2</code>、<code>p3</code>的返回值组成一个数组，传递给<code>p</code>的回调函数。</p>
<p>（2）只要<code>p1</code>、<code>p2</code>、<code>p3</code>之中有一个被<code>rejected</code>，<code>p</code>的状态就变成<code>rejected</code>，此时第一个被<code>reject</code>的实例的返回值，会传递给<code>p</code>的回调函数。</p>
<h6 id="16-5-Promise-race"><a href="#16-5-Promise-race" class="headerlink" title="16-5 Promise.race"></a>16-5 Promise.race</h6><p><code>Promise.race()</code>方法同样是将多个 Promise 实例，包装成一个新的 Promise 实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> p = <span class="title class_">Promise</span>.<span class="title function_">race</span>([p1, p2, p3]);</span><br></pre></td></tr></table></figure>

<p>上面代码中，只要<code>p1</code>、<code>p2</code>、<code>p3</code>之中有一个实例率先改变状态，<code>p</code>的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给<code>p</code>的回调函数。</p>
<h5 id="17-Generator-函数"><a href="#17-Generator-函数" class="headerlink" title="17.Generator 函数"></a>17.Generator 函数</h5><blockquote>
<p>Generator 函数是 ES6 提供的一种异步编程解决方案</p>
<p>Generator 函数是一个状态机，封装了多个内部状态。</p>
<p>执行 Generator 函数会返回一个遍历器对象，也就是说，Generator 函数除了状态机，还是一个遍历器对象生成函数。返回的遍历器对象，可以依次遍历 Generator 函数内部的每一个状态。</p>
</blockquote>
<h6 id="17-1-基本语法"><a href="#17-1-基本语法" class="headerlink" title="17-1 基本语法"></a>17-1 基本语法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">gen</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">yield</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = <span class="title function_">gen</span>()</span><br><span class="line">g.<span class="title function_">next</span>()</span><br><span class="line">g.<span class="title function_">next</span>()</span><br><span class="line">g.<span class="title function_">next</span>()</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220917070351858.png" alt="image-20220917070351858" style="zoom:50%;float:left" />

<blockquote>
<p>yield(产出)表达式是暂停执行的标记，而next方法可以恢复执行。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">gen</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = <span class="title function_">gen</span>()</span><br><span class="line"><span class="keyword">let</span> res1 = g.<span class="title function_">next</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br><span class="line"><span class="keyword">let</span> res2 = g.<span class="title function_">next</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res2)</span><br><span class="line"><span class="keyword">let</span> res3 = g.<span class="title function_">next</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res3)</span><br></pre></td></tr></table></figure>

<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-UmesXKSH-1681921901151)(%E7%AC%94%E8%AE%B0.assets&#x2F;image-20220917070836171.png)]</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">gen</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = <span class="title function_">gen</span>()</span><br><span class="line">g.<span class="title function_">next</span>(<span class="string">&quot;data-1&quot;</span>)</span><br><span class="line">g.<span class="title function_">next</span>(<span class="string">&quot;data-2&quot;</span>)</span><br><span class="line">g.<span class="title function_">next</span>(<span class="string">&quot;data-3&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-tOdc6zF1-1681921901151)(%E7%AC%94%E8%AE%B0.assets&#x2F;image-20220917071219520.png)]</p>
<h6 id="17-2-异步流程"><a href="#17-2-异步流程" class="headerlink" title="17-2 异步流程"></a>17-2 异步流程</h6><p><strong>手动版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">gen</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span> <span class="title function_">ajax</span>(<span class="string">&quot;1.json&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span> <span class="title function_">ajax</span>(<span class="string">&quot;2.json&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> g = <span class="title function_">gen</span>()   </span><br><span class="line"></span><br><span class="line">g.<span class="title function_">next</span>().<span class="property">value</span>.<span class="title function_">then</span>(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">    g.<span class="title function_">next</span>(data).<span class="property">value</span>.<span class="title function_">then</span>(<span class="function"><span class="params">data</span>=&gt;</span>&#123;</span><br><span class="line">        g.<span class="title function_">next</span>(data)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;) </span><br></pre></td></tr></table></figure>

<p><strong>自动版本</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">gen</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> res1 = <span class="keyword">yield</span> <span class="title function_">ajax</span>(<span class="string">&quot;1.json&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br><span class="line">    <span class="keyword">let</span> res2 = <span class="keyword">yield</span> <span class="title function_">ajax</span>(<span class="string">&quot;2.json&quot;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">AutoRun</span>(<span class="params">gen</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> g = <span class="title function_">gen</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">next</span>(<span class="params">data</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> res = g.<span class="title function_">next</span>(data);</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">done</span>) <span class="keyword">return</span> </span><br><span class="line">        res.<span class="property">value</span>.<span class="title function_">then</span>(<span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">            <span class="title function_">next</span>(data);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">next</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">AutoRun</span>(gen);</span><br></pre></td></tr></table></figure>

<h5 id="18-Class语法"><a href="#18-Class语法" class="headerlink" title="18. Class语法"></a>18. Class语法</h5><h6 id="18-1-类的写法"><a href="#18-1-类的写法" class="headerlink" title="18-1 类的写法"></a>18-1 类的写法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>,<span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;kerwin&quot;</span>,<span class="number">100</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br></pre></td></tr></table></figure>

<h6 id="18-2-getter与setter"><a href="#18-2-getter与setter" class="headerlink" title="18-2 getter与setter"></a>18-2 getter与setter</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">List</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">ele</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">element</span> = ele</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">html</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">element</span>.<span class="property">innerHTML</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">html</span>(<span class="params">arr</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">element</span>.<span class="property">innerHTML</span> = arr.<span class="title function_">map</span>(<span class="function"><span class="params">item</span>=&gt;</span><span class="string">`&lt;li&gt;<span class="subst">$&#123;item&#125;</span>&lt;/li&gt;`</span>).<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title class_">List</span>(<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;#list&quot;</span>))</span><br><span class="line"></span><br><span class="line">obj.<span class="property">html</span> = [<span class="string">&quot;aaa&quot;</span>,<span class="string">&quot;bbb&quot;</span>,<span class="string">&quot;cccc&quot;</span>]</span><br></pre></td></tr></table></figure>

<h6 id="18-3-静态属性和静态方法"><a href="#18-3-静态属性和静态方法" class="headerlink" title="18-3 静态属性和静态方法"></a>18-3 静态属性和静态方法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> name = <span class="string">&quot;Person这个类&quot;</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>,<span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eat&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;kerwin&quot;</span>,<span class="number">100</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Person</span>.<span class="property">name</span>)</span><br><span class="line"><span class="title class_">Person</span>.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure>

<h6 id="18-4-继承"><a href="#18-4-继承" class="headerlink" title="18-4 继承"></a>18-4 继承</h6><blockquote>
<p>ES6 规定，子类必须在<code>constructor()</code>方法中调用<code>super()</code>，否则就会报错。这是因为子类自己的<code>this</code>对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，添加子类自己的实例属性和方法。如果不调用<code>super()</code>方法，子类就得不到自己的<code>this</code>对象。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> name = <span class="string">&quot;Person这个类&quot;</span></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">age</span> = age;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">name</span>,<span class="variable language_">this</span>.<span class="property">age</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;eat&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Person</span>&#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">name,age,score</span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>(name,age)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">score</span> = score</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">say</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>.<span class="title function_">say</span>()</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">score</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="title function_">eat</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="variable language_">super</span>.<span class="title function_">eat</span>();</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;student eat&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> obj = <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;kerwin&quot;</span>,<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br><span class="line">obj.<span class="title function_">say</span>()</span><br><span class="line"><span class="title class_">Student</span>.<span class="title function_">eat</span>()</span><br></pre></td></tr></table></figure>



<h5 id="19-模块化"><a href="#19-模块化" class="headerlink" title="19.模块化"></a>19.模块化</h5><blockquote>
<p>JavaScript 现在有两种模块。一种是 ES6 模块，简称 ESM；另一种是 CommonJS 模块，简称 CJS。</p>
<p>CommonJS 模块是 Node.js 专用的，与 ES6 模块不兼容。语法上面，两者最明显的差异是，CommonJS 模块使用<code>require()</code>和<code>module.exports</code>，ES6 模块使用<code>import</code>和<code>export</code>。</p>
</blockquote>
<p>ES6 模块不是对象，而是通过<code>export</code>命令显式指定输出的代码，再通过<code>import</code>命令输入。</p>
<p><strong>写法1：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="variable constant_">A1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> a1 <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>写法2：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;<span class="variable constant_">A1</span>,<span class="variable constant_">A2</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="variable constant_">A1</span>,<span class="variable constant_">A2</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="variable constant_">A1</span> <span class="keyword">as</span> a1,<span class="variable constant_">A2</span> <span class="keyword">as</span> a2&#125; <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">A1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A1&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">A2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;A2&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="variable constant_">A1</span>,<span class="variable constant_">A2</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="variable constant_">A1</span> <span class="keyword">as</span> a1,<span class="variable constant_">A2</span> <span class="keyword">as</span> a2&#125; <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>混合写法：</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> &#123;<span class="variable constant_">A1</span>&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="variable constant_">A2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="variable constant_">A2</span>,&#123;<span class="variable constant_">A1</span>&#125; <span class="keyword">from</span> <span class="string">&quot;./1.js&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="二-ES7新特性"><a href="#二-ES7新特性" class="headerlink" title="二. ES7新特性"></a>二. ES7新特性</h2><h5 id="1-求幂运算符"><a href="#1-求幂运算符" class="headerlink" title="1. 求幂运算符"></a>1. 求幂运算符</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">3</span>, <span class="number">2</span>) === <span class="number">3</span> ** <span class="number">2</span>    <span class="comment">// 9</span></span><br></pre></td></tr></table></figure>

<h5 id="2-数组的includes方法"><a href="#2-数组的includes方法" class="headerlink" title="2.数组的includes方法"></a>2.数组的includes方法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>].<span class="title function_">includes</span>(<span class="title class_">NaN</span>)     <span class="comment">// true</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="title class_">NaN</span>].<span class="title function_">indexOf</span>(<span class="title class_">NaN</span>)  <span class="comment">// -1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果仅仅查找数据是否在数组中，建议使用includes，如果是查找数据的索引位置，建议使用indexOf更好一些</p>
</blockquote>
<h2 id="三-ES8新特性"><a href="#三-ES8新特性" class="headerlink" title="三. ES8新特性"></a>三. ES8新特性</h2><h5 id="1-async和await"><a href="#1-async和await" class="headerlink" title="1. async和await"></a>1. async和await</h5><h6 id="1-1-Async"><a href="#1-1-Async" class="headerlink" title="1-1.Async"></a>1-1.Async</h6><p>async 函数，使得异步操作变得更加方便。</p>
<ul>
<li>更好的语义。</li>
<li>返回值是 Promise。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>



<h6 id="1-2-Await"><a href="#1-2-Await" class="headerlink" title="1-2.Await"></a>1-2.Await</h6><p><code>await</code>命令后面是一个 Promise 对象，返回该对象的结果。如果不是 Promise 对象，就直接返回对应的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> res1 =  <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://localhost:3000/news1&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> res2 =  <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://localhost:3000/news2&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> res2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">test</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;返回结果&quot;</span>,res)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;err&quot;</span>,err)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h6 id="1-3-错误处理"><a href="#1-3-错误处理" class="headerlink" title="1-3.错误处理"></a>1-3.错误处理</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> res1 =  <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://localhost:3000/news1&quot;</span>)</span><br><span class="line">    <span class="keyword">var</span> res2 =  <span class="keyword">await</span> <span class="title function_">ajax</span>(<span class="string">&quot;http://localhost:3000/news2&quot;</span>)</span><br><span class="line">&#125;<span class="keyword">catch</span>(err)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;err&quot;</span>,err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="2-对象方法扩展"><a href="#2-对象方法扩展" class="headerlink" title="2.对象方法扩展"></a>2.对象方法扩展</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">values</span>(obj))</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220920154527417.png" alt="image-20220920154527417" style="zoom:50%;float:left" />


<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">entries</span>(obj))</span><br></pre></td></tr></table></figure>



<img src="%E7%AC%94%E8%AE%B0.assets/image-20220920154622530.png" alt="image-20220920154622530" style="zoom:50%;float:left" />



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptors</span>(obj))</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220920155143538.png" alt="image-20220920155143538" style="zoom:50%;float:left" />



<p><strong>克隆对象</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;Kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span>,</span><br><span class="line">    <span class="attr">location</span>:&#123;</span><br><span class="line">        <span class="attr">provice</span>:<span class="string">&quot;辽宁&quot;</span>,</span><br><span class="line">        <span class="attr">city</span>:<span class="string">&quot;大连&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//只设置city，防止破坏province</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">city</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">location</span>.<span class="property">city</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">city</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">location</span>.<span class="property">city</span> = value</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">nameset</span>(<span class="params">value</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">name</span> = value.<span class="title function_">substring</span>(<span class="number">0</span>,<span class="number">1</span>).<span class="title function_">toUpperCase</span>()+value.<span class="title function_">substring</span>(<span class="number">1</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">nameset</span>()&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptors</span>(obj1))</span><br><span class="line"><span class="keyword">var</span> obj2=  &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Object.assign(obj2,obj1)//无法克隆 get set方法</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperties</span>(obj2,<span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptors</span>(obj1))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="3-字符串填充"><a href="#3-字符串填充" class="headerlink" title="3. 字符串填充"></a>3. 字符串填充</h5><blockquote>
<p>padStart()、padEnd()方法可以使得字符串达到固定长度，有两个参数，字符串目标长度和填充内容。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str= <span class="string">&quot;kerwin&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">padStart</span>(<span class="number">10</span>,<span class="string">&quot;x&quot;</span>));<span class="comment">//xxxxkerwin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">padEnd</span>(<span class="number">10</span>,<span class="string">&quot;x&quot;</span>));<span class="comment">//kerwinxxxx</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">padStart</span>(<span class="number">5</span>,<span class="string">&quot;x&quot;</span>))<span class="comment">//kerwin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">padEnd</span>(<span class="number">5</span>,<span class="string">&quot;x&quot;</span>))<span class="comment">//kerwin</span></span><br></pre></td></tr></table></figure>



<h5 id="4-函数参数的末尾加逗号"><a href="#4-函数参数的末尾加逗号" class="headerlink" title="4. 函数参数的末尾加逗号"></a>4. 函数参数的末尾加逗号</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span></span><br><span class="line"><span class="params"> a,</span></span><br><span class="line"><span class="params"> b,</span></span><br><span class="line"><span class="params"> c,</span></span><br><span class="line"><span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a,b)</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>(</span><br><span class="line">    <span class="number">1</span>,</span><br><span class="line">    <span class="number">2</span>,</span><br><span class="line">    <span class="number">3</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>『末尾逗号』在添加新的参数、属性、元素时是有用的，你可以直接新加一行而不必给上一行再补充一个逗号，这样使版本控制工具的修改记录也更加整洁</p>
</blockquote>
<h2 id="四-ES9新特性"><a href="#四-ES9新特性" class="headerlink" title="四. ES9新特性"></a>四. ES9新特性</h2><h5 id="1-对象的剩余参数与扩展运算符"><a href="#1-对象的剩余参数与扩展运算符" class="headerlink" title="1. 对象的剩余参数与扩展运算符"></a>1. 对象的剩余参数与扩展运算符</h5><h6 id="1-1-对象的剩余参数"><a href="#1-1-对象的剩余参数" class="headerlink" title="1-1 对象的剩余参数"></a>1-1 对象的剩余参数</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span>,</span><br><span class="line">    <span class="attr">location</span>:<span class="string">&quot;dalian&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> &#123;name,...other&#125; = obj</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name) <span class="comment">//kerwin</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(other) <span class="comment">//&#123;age: 100, location: &#x27;dalian&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h6 id="1-2-对象的扩展运算符"><a href="#1-2-对象的扩展运算符" class="headerlink" title="1-2 对象的扩展运算符"></a>1-2 对象的扩展运算符</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">age</span>:<span class="number">100</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(&#123;...obj1,...obj2&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="2-正则表达式命名捕获组"><a href="#2-正则表达式命名捕获组" class="headerlink" title="2.正则表达式命名捕获组"></a>2.正则表达式命名捕获组</h5><p>JS正则表达式可以返回一个匹配的对象, 一个包含匹配字符串的类数组, 比如: 以 YYYY-MM-DD的格式解析日期，</p>
<p>这样的代码可读性很差, 并且在改变正则表达式的结构的时候很有可能就会改变匹配对象的索引</p>
<p>ES9允许使用命名捕获 ?<name> , 在打开捕获括号后立即命名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;今天是2022-10-10&quot;</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/([0-9]&#123;4&#125;)-([0-9]&#123;2&#125;)-([0-9]&#123;2&#125;)/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res1 = reg.<span class="title function_">exec</span>(str)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220921110518183.png" alt="image-20220921110518183" style="zoom:67%;float:left" />



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;今天是2022-10-10&quot;</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?&lt;year&gt;[0-9]&#123;4&#125;)-(?&lt;month&gt;[0-9]&#123;2&#125;)-(?&lt;day&gt;[0-9]&#123;2&#125;)/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res1 = reg.<span class="title function_">exec</span>(str)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res1)</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220921110644896.png" alt="image-20220921110644896" style="zoom:67%;float:left" />

<h5 id="3-Promise-finally"><a href="#3-Promise-finally" class="headerlink" title="3. Promise.finally()"></a>3. Promise.finally()</h5><blockquote>
<p>无论是成功还是失败, 都运行同样的代码, 比如隐藏对话框, 关闭数据连接</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="number">1111</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//showloading</span></span><br><span class="line"><span class="title function_">ajax</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;).<span class="title function_">finally</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//hideloading</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;finally&quot;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h5 id="4-异步遍历器"><a href="#4-异步遍历器" class="headerlink" title="4. 异步遍历器"></a>4. 异步遍历器</h5><h6 id="4-1-同步遍历器的问题"><a href="#4-1-同步遍历器的问题" class="headerlink" title="4-1 同步遍历器的问题"></a>4-1 同步遍历器的问题</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">1111</span></span><br><span class="line">    <span class="keyword">yield</span>  <span class="number">2222</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> syncI = <span class="title function_">fn</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(syncI.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(syncI.<span class="title function_">next</span>())</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(syncI.<span class="title function_">next</span>())</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220921132030973.png" alt="image-20220921132030973" style="zoom:67%;float:left" />

<h6 id=""><a href="#" class="headerlink" title=""></a></h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>* <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span><span class="title function_">resolve</span>(<span class="string">&quot;1111&quot;</span>))</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span><span class="title function_">resolve</span>(<span class="string">&quot;2222&quot;</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> syncI = <span class="title function_">fn</span>();</span><br><span class="line">syncI.<span class="title function_">next</span>().<span class="property">value</span>.<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;)</span><br><span class="line">syncI.<span class="title function_">next</span>().<span class="property">value</span>.<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;<span class="variable language_">console</span>.<span class="title function_">log</span>(res)&#125;)</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220921132403676.png" alt="image-20220921132403676" style="zoom:67%;float:left" />

<blockquote>
<p><code>value</code>属性的返回值是一个 Promise 对象，用来放置异步操作。但是这样写很麻烦，不太符合直觉，语义也比较绕。</p>
</blockquote>
<h6 id="4-2-异步遍历器生成函数"><a href="#4-2-异步遍历器生成函数" class="headerlink" title="4-2 异步遍历器生成函数"></a>4-2 异步遍历器生成函数</h6><blockquote>
<p>Generator 函数返回一个同步遍历器，异步 Generator 函数的作用，是返回一个异步遍历器对象。在语法上，异步 Generator 函数就是async函数与 Generator 函数的结合。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span>* <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span><span class="title function_">resolve</span>(<span class="string">&quot;1111&quot;</span>))</span><br><span class="line">    <span class="keyword">yield</span>  <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span>=&gt;</span><span class="title function_">resolve</span>(<span class="string">&quot;2222&quot;</span>))</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> asyncI = <span class="title function_">fn</span>();</span><br><span class="line"></span><br><span class="line">asyncI.<span class="title function_">next</span>().<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> asyncI.<span class="title function_">next</span>()</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">    <span class="keyword">return</span> asyncI.<span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<img src="%E7%AC%94%E8%AE%B0.assets/image-20220921132528997.png" alt="image-20220921132528997" style="zoom:67%;float:left" />



<h6 id="4-3-for-await-of"><a href="#4-3-for-await-of" class="headerlink" title="4-3 for await of"></a>4-3 for await of</h6><blockquote>
<p><code>for...of</code>循环用于遍历同步的 Iterator 接口。新引入的<code>for await...of</code>循环，则是用于遍历异步的 Iterator 接口。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">let</span> i <span class="keyword">of</span> asyncI) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>



<h6 id="4-4-案例改造"><a href="#4-4-案例改造" class="headerlink" title="4-4 案例改造"></a>4-4 案例改造</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params">t</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">              <span class="title function_">resolve</span>(t)</span><br><span class="line">          &#125;, t)</span><br><span class="line">      &#125;)</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span>* <span class="title function_">fn</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">timer</span>(<span class="number">1000</span>)<span class="comment">//任务1</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">timer</span>(<span class="number">2000</span>)<span class="comment">//任务2</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="title function_">timer</span>(<span class="number">3000</span>)<span class="comment">//任务3</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用一下 for await ...of</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">fn1</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> <span class="title function_">await</span>(<span class="params"><span class="keyword">const</span> val <span class="keyword">of</span> fn()</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;start&quot;</span>,<span class="title class_">Date</span>.<span class="title function_">now</span>())</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(val);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;end&quot;</span>,<span class="title class_">Date</span>.<span class="title function_">now</span>())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">fn1</span>();</span><br></pre></td></tr></table></figure>



<h6 id="4-5-nodejs用法"><a href="#4-5-nodejs用法" class="headerlink" title="4-5 nodejs用法"></a>4-5 nodejs用法</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 传统写法</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">main</span>(<span class="params">inputFilePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> readStream = fs.<span class="title function_">createReadStream</span>(</span><br><span class="line">    inputFilePath,</span><br><span class="line">    &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span>, <span class="attr">highWaterMark</span>: <span class="number">1024</span> &#125;</span><br><span class="line">  );</span><br><span class="line">  readStream.<span class="title function_">on</span>(<span class="string">&#x27;data&#x27;</span>, <span class="function">(<span class="params">chunk</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&gt;&gt;&gt; &#x27;</span>+chunk);</span><br><span class="line">  &#125;);</span><br><span class="line">  readStream.<span class="title function_">on</span>(<span class="string">&#x27;end&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;### DONE ###&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 异步遍历器写法</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params">inputFilePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> readStream = fs.<span class="title function_">createReadStream</span>(</span><br><span class="line">    inputFilePath,</span><br><span class="line">    &#123; <span class="attr">encoding</span>: <span class="string">&#x27;utf8&#x27;</span>, <span class="attr">highWaterMark</span>: <span class="number">1024</span> &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> <span class="keyword">await</span> (<span class="keyword">const</span> chunk <span class="keyword">of</span> readStream) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;&gt;&gt;&gt; &#x27;</span>+chunk);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;### DONE ###&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="五-ES10新特性"><a href="#五-ES10新特性" class="headerlink" title="五.ES10新特性"></a>五.ES10新特性</h2><h5 id="1-Object-fromEntries"><a href="#1-Object-fromEntries" class="headerlink" title="1. Object.fromEntries"></a>1. Object.fromEntries</h5><blockquote>
<p>Object.fromEntries()方法允许你轻松地将键值对列表转换为对象</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [[<span class="string">&quot;name&quot;</span>, <span class="string">&quot;kerwin&quot;</span>], [<span class="string">&quot;age&quot;</span>, <span class="number">100</span>]];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(arr))<span class="comment">//&#123;name: &#x27;kerwin&#x27;, age: 100&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> m = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;tiechui&quot;</span>)</span><br><span class="line">m.<span class="title function_">set</span>(<span class="string">&quot;age&quot;</span>,<span class="number">18</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(m))</span><br></pre></td></tr></table></figure>

<p><strong>用处</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str =<span class="string">&quot;name=kerwin&amp;age=100&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> searchParams = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(str)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="title function_">fromEntries</span>(searchParams))<span class="comment">//&#123;name: &#x27;kerwin&#x27;, age: &#x27;100&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<h5 id="2-trimStart-and-trimEnd"><a href="#2-trimStart-and-trimEnd" class="headerlink" title="2. trimStart() and trimEnd()"></a>2. trimStart() and trimEnd()</h5><blockquote>
<p>trimStart()和trimEnd()方法在实现与trimLeft()和trimRight()相同。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;   kerwin    &quot;</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;|&quot;</span>+str.<span class="title function_">trimStart</span>(str)+<span class="string">&quot;|&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;|&quot;</span>+str.<span class="title function_">trimEnd</span>(str)+<span class="string">&quot;|&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;|&quot;</span>+str.<span class="title function_">trimLeft</span>(str)+<span class="string">&quot;|&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;|&quot;</span>+str.<span class="title function_">trimRight</span>(str)+<span class="string">&quot;|&quot;</span>)</span><br></pre></td></tr></table></figure>



<h5 id="3-Symbol-对象的-description-属性"><a href="#3-Symbol-对象的-description-属性" class="headerlink" title="3. Symbol 对象的 description 属性"></a>3. Symbol 对象的 description 属性</h5><blockquote>
<p>为Symbol对象添加了只读属性 description ，该对象返回包含Symbol描述的字符串。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> s = <span class="title class_">Symbol</span>(<span class="string">&quot;kerwin&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(s.<span class="property">description</span>) <span class="comment">//kerwin</span></span><br></pre></td></tr></table></figure>

<h5 id="4-可选的-catch"><a href="#4-可选的-catch" class="headerlink" title="4. 可选的 catch"></a>4. 可选的 catch</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pro1 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">//执行器函数</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="string">&quot;成功的结果&quot;</span>)</span><br><span class="line">    &#125;, <span class="number">30000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">let</span> pro2 = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="keyword">function</span> (<span class="params">resolve, reject</span>) &#123;</span><br><span class="line">    <span class="comment">//执行器函数</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>()</span><br><span class="line">    &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">test</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">await</span> <span class="title class_">Promise</span>.<span class="title function_">race</span>([pro1, pro2])</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;不关心错误结果，网络超时&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title function_">test</span>()</span><br></pre></td></tr></table></figure>





<h2 id="六-ES11新特性"><a href="#六-ES11新特性" class="headerlink" title="六. ES11新特性"></a>六. ES11新特性</h2><h5 id="1-Promise-allSettled"><a href="#1-Promise-allSettled" class="headerlink" title="1. Promise.allSettled"></a>1. Promise.allSettled</h5><blockquote>
<p>Promise.allSettled() 方法返回一个在所有给定的 promise 都已经 fulfilled 或 rejected 后的 promise ，并带有一个对象数组，每个对象表示对应的 promise 结果。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promises = [ <span class="title function_">ajax</span>(<span class="string">&#x27;/200接口&#x27;</span>), <span class="title function_">ajax</span>(<span class="string">&#x27;/401接口&#x27;</span>) ];</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">allSettled</span>(promises).<span class="title function_">then</span>(<span class="function"><span class="params">results</span>=&gt;</span>&#123;</span><br><span class="line">    <span class="comment">// 过滤出成功的请求</span></span><br><span class="line">    results.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span> =&gt;</span>item.<span class="property">status</span> === <span class="string">&#x27;fulfilled&#x27;</span>);</span><br><span class="line">    过滤出失败的请求</span><br><span class="line">    results.<span class="title function_">filter</span>(<span class="function"><span class="params">item</span>=&gt;</span> item.<span class="property">status</span> === <span class="string">&#x27;rejected&#x27;</span>);</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="2-module新增"><a href="#2-module新增" class="headerlink" title="2.module新增"></a>2.module新增</h5><h6 id="2-1-动态导入-import"><a href="#2-1-动态导入-import" class="headerlink" title="2-1 动态导入 import()"></a>2-1 动态导入 import()</h6><blockquote>
<p>标准用法的 import 导入的模块是静态的，会使所有被导入的模块，在加载时就被编译（无法做到按需编译，降低首页加载速度）。有些场景中，你可能希望根据条件导入模块或者按需导入模块，这时你可以使用动态导入代替静态导入。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>login<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> role1 = <span class="string">&quot;管理员&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> role2 = <span class="string">&quot;普通用户&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">function</span> <span class="title function_">login</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> <span class="string">&quot;普通用户&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">render</span>(<span class="params">role</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">if</span>(role===role1)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">let</span> res1 = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&quot;./1.js&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res1.<span class="property">default</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">let</span> res2 = <span class="keyword">await</span> <span class="keyword">import</span>(<span class="string">&quot;./2.js&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="variable language_">console</span>.<span class="title function_">log</span>(res2.<span class="property">default</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> obtn = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;button&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        obtn.<span class="property">onclick</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">let</span> role = <span class="title function_">login</span>()</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="title function_">render</span>(role)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h6 id="2-2-import-meta"><a href="#2-2-import-meta" class="headerlink" title="2-2 import.meta"></a>2-2 import.meta</h6><p>import.meta 会返回一个对象，有一个 url 属性，返回当前模块的url路径，只能在模块内部使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">import</span> obj <span class="keyword">from</span> <span class="string">&#x27;./1.js&#x27;</span></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//1.js</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">import</span>.<span class="property">meta</span>)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="2-3-export-as-obj-from-‘module’"><a href="#2-3-export-as-obj-from-‘module’" class="headerlink" title="2-3 export * as obj from ‘module’"></a>2-3 export * as obj from ‘module’</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;111111&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">test1</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//2.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;22222&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">test2</span>(<span class="params"></span>)&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> * <span class="keyword">as</span> obj1 <span class="keyword">from</span> <span class="string">&#x27;./1.js&#x27;</span></span><br><span class="line"><span class="comment">//html</span></span><br><span class="line"> &lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">        <span class="keyword">import</span> * <span class="keyword">as</span> obj <span class="keyword">from</span> <span class="string">&#x27;./2.js&#x27;</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(obj)</span><br><span class="line"> &lt;/script&gt;</span><br></pre></td></tr></table></figure>



<img src="%E7%AC%94%E8%AE%B0.assets/image-20220922111416681.png" alt="image-20220922111416681" style="zoom:67%;float:left;" />





<h5 id="3-字符串的matchAll方法"><a href="#3-字符串的matchAll方法" class="headerlink" title="3.字符串的matchAll方法"></a>3.字符串的matchAll方法</h5><blockquote>
<p>matchAll() 方法返回一个包含所有匹配正则表达式的结果的迭代器。可以使用 for…of 遍历，或者使用 展开运算符(…) 或者 Array.from 转换为数组.</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(str.<span class="title function_">match</span>(reg)) </span><br><span class="line"><span class="comment">//&#x27;&lt;li&gt;1111&lt;/li&gt;&#x27;, &#x27;&lt;li&gt;2222&lt;/li&gt;&#x27;, &#x27;&lt;li&gt;3333&lt;/li&gt;&#x27;, &#x27;&lt;li&gt;4444&lt;/li&gt;&#x27;</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"><span class="keyword">let</span> match = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">while</span>(match = reg.<span class="title function_">exec</span>(str))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(match[<span class="number">0</span>])</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(match[<span class="number">1</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">`</span></span><br><span class="line"><span class="string">&lt;ul&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;1111&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;2222&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;3333&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;li&gt;4444&lt;/li&gt;</span></span><br><span class="line"><span class="string">&lt;/ul&gt;</span></span><br><span class="line"><span class="string">`</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/&lt;li&gt;(.*)&lt;\/li&gt;/g</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i <span class="keyword">of</span> str.<span class="title function_">matchAll</span>(reg))&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="4-BigInt"><a href="#4-BigInt" class="headerlink" title="4. BigInt"></a>4. BigInt</h5><blockquote>
<p>JavaScript 能够准确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值，这使得 JavaScript 不适合进行科学和金融方面的精确计算。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">9007199254740992</span> <span class="comment">//9007199254740992</span></span><br><span class="line"><span class="number">9007199254740993</span> <span class="comment">//9007199254740992</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>,<span class="number">53</span>) === <span class="title class_">Math</span>.<span class="title function_">pow</span>(<span class="number">2</span>,<span class="number">53</span>)+<span class="number">1</span></span><br></pre></td></tr></table></figure>



<p>为了与 Number 类型区别，BigInt 类型的数据必须添加后缀<code>n</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1234</span> <span class="comment">// 普通整数</span></span><br><span class="line"><span class="number">1234n</span> <span class="comment">// BigInt</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// BigInt 的运算</span></span><br><span class="line"><span class="number">1n</span> + <span class="number">2n</span> <span class="comment">// 3n</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="5-globalThis"><a href="#5-globalThis" class="headerlink" title="5. globalThis"></a>5. globalThis</h5><blockquote>
<p>globalThis 提供了一个标准的方式来获取不同环境下的全局 this 对象（也就是全局对象自身）。不像 window 或者 self这些属性，它确保可以在有无窗口的各种环境下正常工作。所以，你可以安心的使用 globalThis，不必担心它的运行环境。为便于记忆，你只需要记住，全局作用域中的 this 就是 globalThis。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//es6-shim</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the only reliable means to get the global object is</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Function(&#x27;return this&#x27;)()</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// However, this causes CSP violations in Chrome apps.</span></span><br><span class="line"></span><br><span class="line">     <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> self; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">window</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> <span class="variable language_">window</span>; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">global</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> <span class="variable language_">global</span>; &#125;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;unable to locate global object&#x27;</span>);</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> globals = <span class="title function_">getGlobal</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!globals.<span class="property">Reflect</span>) &#123;</span><br><span class="line"></span><br><span class="line"><span class="title function_">defineProperty</span>(globals, ‘<span class="title class_">Reflect</span>’, &#123;&#125;, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以前</span></span><br><span class="line"><span class="keyword">var</span> getGlobal = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> self !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> self; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">window</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> <span class="variable language_">window</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable language_">global</span> !== <span class="string">&#x27;undefined&#x27;</span>) &#123; <span class="keyword">return</span> <span class="variable language_">global</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;unable to locate global object&#x27;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> globals = <span class="title function_">getGlobal</span>()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (globals.<span class="property">document</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;进行dom操作相关&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;不能进行dom操作&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//现在</span></span><br><span class="line"><span class="keyword">if</span> (globalThis.<span class="property">document</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;进行dom操作相关&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;不能进行dom操作&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="6-空值合并运算符"><a href="#6-空值合并运算符" class="headerlink" title="6.空值合并运算符"></a>6.空值合并运算符</h5><blockquote>
<p><strong>空值合并运算符（*??*）</strong>是一个逻辑运算符。当左侧操作数为 null 或 undefined 时，其返回右侧的操作数。否则返回左侧的操作数。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">introduction</span>:<span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">introduction</span> || <span class="string">&quot;这个人很懒&quot;</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj.<span class="property">introduction</span> ?? <span class="string">&quot;这个人很懒&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>??和 || 的区别是什么呢?</strong></p>
<p>他们两个最大的区别就是 ’ ‘和 0，??的左侧 为 ’ ‘或者为 0 的时候，依然会返回左侧的值；</p>
<p>|| 会对左侧的数据进行boolean类型转换，所以’ ‘和 0 会被转换成false,返回右侧的值</p>
<h5 id="7-可选链操作符"><a href="#7-可选链操作符" class="headerlink" title="7.可选链操作符"></a>7.可选链操作符</h5><blockquote>
<p>可选链前面的值如果是null或undefined，则不再执行后面的，之前返回可选链前面的值</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,</span><br><span class="line">    <span class="attr">introduction</span>:<span class="number">0</span>,</span><br><span class="line">    <span class="comment">// location:&#123;</span></span><br><span class="line">    <span class="comment">//     city:&quot;dalian&quot;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj &amp;&amp; obj.<span class="property">location</span> &amp;&amp; obj.<span class="property">location</span>.<span class="property">city</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj?.<span class="property">location</span>?.<span class="property">city</span>)</span><br></pre></td></tr></table></figure>



<h2 id="七-ES12新特性"><a href="#七-ES12新特性" class="headerlink" title="七. ES12新特性"></a>七. ES12新特性</h2><h5 id="1-逻辑赋值操作符"><a href="#1-逻辑赋值操作符" class="headerlink" title="1. 逻辑赋值操作符"></a>1. 逻辑赋值操作符</h5><p>逻辑赋值操作符 ??&#x3D;、&amp;&amp;&#x3D;、 ||&#x3D;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a = <span class="literal">true</span></span><br><span class="line"><span class="keyword">let</span> b = <span class="literal">false</span></span><br><span class="line"><span class="comment">//a &amp;&amp;= b //false</span></span><br><span class="line">a ||= b ; <span class="comment">//true</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;kerwin&quot;</span>,           </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">introduction</span> = obj.<span class="property">introduction</span>??<span class="string">&quot;很懒&quot;</span></span><br><span class="line">obj.<span class="property">introduction</span>??=<span class="string">&quot;很懒&quot;</span></span><br></pre></td></tr></table></figure>





<h5 id="2-数字分隔符"><a href="#2-数字分隔符" class="headerlink" title="2.数字分隔符"></a>2.数字分隔符</h5><p>这个新特性是为了方便程序员看代码而出现的，如果数字比较大，那么看起来就不是那么一目了然</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> num= <span class="number">123456789</span>；</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>分隔符不仅可以分割十进制，也可以分割二净值或者十六净值的数据，非常好用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> number = <span class="number">1_000_000_000_000</span>;</span><br><span class="line"><span class="keyword">const</span> binary = <span class="number">0b1010_0101_1111_1101</span>;</span><br><span class="line"><span class="keyword">const</span> hex = <span class="number">0xA1_B2_C3</span>;</span><br></pre></td></tr></table></figure>





<h5 id="3-replaceAll"><a href="#3-replaceAll" class="headerlink" title="3. replaceAll"></a>3. replaceAll</h5><blockquote>
<p>所有匹配都会被替代项替换。模式可以是字符串或正则表达式，而替换项可以是字符串或针对每次匹配执行的函数。并返回一个全新的字符串  </p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str =</span><br><span class="line">      <span class="string">&quot;I wish to wish the wish you wish to wish, but if you wish the wish the witch wishes, I won&#x27;t wish the wish you wish to wish. &quot;</span>;</span><br><span class="line"><span class="keyword">const</span> newStr = str.<span class="title function_">replaceAll</span>(<span class="string">&quot;wish&quot;</span>, <span class="string">&quot;kerwin&quot;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(newStr);</span><br></pre></td></tr></table></figure>





<h5 id="4-Promise-any"><a href="#4-Promise-any" class="headerlink" title="4.Promise.any"></a>4.Promise.any</h5><p>只要参数实例有一个变成<code>fulfilled</code>状态，包装实例就会变成<code>fulfilled</code>状态；如果所有参数实例都变成<code>rejected</code>状态，包装实例就会变成<code>rejected</code>状态。</p>
<blockquote>
<p><code>Promise.any()</code>跟<code>Promise.race()</code>方法很像，只有一点不同，就是<code>Promise.any()</code>不会因为某个 Promise 变成<code>rejected</code>状态而结束，必须等到所有参数 Promise 变成<code>rejected</code>状态才会结束。</p>
</blockquote>
<h5 id="5-WeakRef"><a href="#5-WeakRef" class="headerlink" title="5. WeakRef"></a>5. WeakRef</h5><blockquote>
<p>在一般情况下，对象的引用是强引用的，这意味着只要持有对象的引用，它就不会被垃圾回收。只有当该对象没有任何的强引用时，垃圾回收才会销毁该对象并且回收该对象所占的内存空间。</p>
<p>而 <code>WeakRef</code> 允许您保留对另一个对象的弱引用，而不会阻止被弱引用对象被垃圾回收。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> wr = <span class="keyword">new</span> <span class="title class_">WeakRef</span>(target);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>WeakRef 实例对象有一个<code>deref()</code>方法，如果原始对象存在，该方法返回原始对象；如果原始对象已经被垃圾回收机制清除，该方法返回<code>undefined</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> target = &#123;&#125;;</span><br><span class="line"><span class="keyword">let</span> wr = <span class="keyword">new</span> <span class="title class_">WeakRef</span>(target);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> obj = wr.<span class="title function_">deref</span>();</span><br><span class="line"><span class="keyword">if</span> (obj) &#123; <span class="comment">// target 未被垃圾回收机制清除</span></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> like = <span class="keyword">new</span> <span class="title class_">WeakRef</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;like&quot;</span>))</span><br><span class="line"><span class="keyword">let</span> mymap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br><span class="line">mymap.<span class="title function_">set</span>(like.<span class="title function_">deref</span>(), &#123;</span><br><span class="line">    <span class="attr">click</span>: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line">like.<span class="title function_">deref</span>().<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> times = mymap.<span class="title function_">get</span>(like.<span class="title function_">deref</span>())</span><br><span class="line">    times.<span class="property">click</span>++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(like.<span class="title function_">deref</span>())</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br></pre></td></tr></table></figure>





<h5 id="6-FinalizationRegistry"><a href="#6-FinalizationRegistry" class="headerlink" title="6. FinalizationRegistry"></a>6. FinalizationRegistry</h5><blockquote>
<p>清理器注册表功能 FinalizationRegistry，用来指定目标对象被垃圾回收机制清除以后，所要执行的回调函数。</p>
</blockquote>
<p>首先，新建一个注册表实例。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> registry = <span class="keyword">new</span> <span class="title class_">FinalizationRegistry</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// ....</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">registry.<span class="title function_">register</span>(obj, <span class="string">&quot;some value&quot;</span>);</span><br><span class="line">registry.<span class="title function_">unregister</span>(obj);</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> like = <span class="keyword">new</span> <span class="title class_">WeakRef</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;like&quot;</span>))</span><br><span class="line"><span class="keyword">let</span> mymap = <span class="keyword">new</span> <span class="title class_">WeakMap</span>()</span><br><span class="line">mymap.<span class="title function_">set</span>(like.<span class="title function_">deref</span>(), &#123;</span><br><span class="line">    <span class="attr">click</span>: <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line">like.<span class="title function_">deref</span>().<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> times = mymap.<span class="title function_">get</span>(like.<span class="title function_">deref</span>())</span><br><span class="line">    times.<span class="property">click</span>++</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// registry.register(document.getElementById(&quot;like&quot;), mymap.get(like.deref()));</span></span><br><span class="line">    registry.<span class="title function_">register</span>(like.<span class="title function_">deref</span>(), mymap.<span class="title function_">get</span>(like.<span class="title function_">deref</span>()));</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">removeChild</span>(like.<span class="title function_">deref</span>())</span><br><span class="line">&#125;, <span class="number">2000</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> registry = <span class="keyword">new</span> <span class="title class_">FinalizationRegistry</span>(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;被销毁了&quot;</span>, data)</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>







<h2 id="八-ES13新特性"><a href="#八-ES13新特性" class="headerlink" title="八.ES13新特性"></a>八.ES13新特性</h2><h5 id="1-私有属性和方法"><a href="#1-私有属性和方法" class="headerlink" title="1. 私有属性和方法"></a>1. 私有属性和方法</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cache</span>&#123;</span><br><span class="line">    #obj  =&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">get</span>(<span class="params">key</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line"><span class="title function_">set</span>(<span class="params">key,value</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.#obj[key] =value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> <span class="title class_">Cache</span>()</span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;kerwin&quot;</span>)</span><br></pre></td></tr></table></figure>

<h5 id="2-静态成员的私有属性和方法"><a href="#2-静态成员的私有属性和方法" class="headerlink" title="2.静态成员的私有属性和方法"></a>2.静态成员的私有属性和方法</h5><blockquote>
<p>我们还可以给类定义静态成员和静态私有函数。类的静态方法可以使用<code>this</code>关键字访问其他的私有或者公有静态成员，</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">Cache</span>&#123;</span><br><span class="line">     <span class="keyword">static</span> #count = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">     <span class="keyword">static</span> <span class="title function_">getCount</span>(<span class="params"></span>)&#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="variable language_">this</span>.#count</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">    #obj  =&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">get</span>(<span class="params">key</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">key,value</span>)&#123;</span><br><span class="line">        <span class="variable language_">this</span>.#obj[key] =value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> <span class="title class_">Cache</span>()</span><br><span class="line">cache.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;kerwin&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Cache</span>.<span class="title function_">getCount</span>())</span><br></pre></td></tr></table></figure>



<h5 id="3-静态代码块"><a href="#3-静态代码块" class="headerlink" title="3.静态代码块"></a>3.静态代码块</h5><blockquote>
<p>ES13允许在类中通过<code>static</code>关键字定义一系列静态代码块，这些代码块只会在类被创造的时候<strong>执行一次</strong>。这其实有点像一些其他的如C#和Java等面向对象的编程语言的静态构造函数的用法。</p>
</blockquote>
<p>一个类可以定义任意多的静态代码块，这些代码块会和穿插在它们之间的静态成员变量一起按照定义的顺序在类初始化的时候执行一次。我们还可以使用<code>super</code>关键字来访问父类的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">Cache</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> obj = <span class="keyword">new</span> <span class="title class_">Map</span>()</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">obj</span>.<span class="title function_">set</span>(<span class="string">&quot;name&quot;</span>,<span class="string">&quot;kerwin&quot;</span>)</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">obj</span>.<span class="title function_">set</span>(<span class="string">&quot;age&quot;</span>,<span class="number">100</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">obj</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Cache</span>.<span class="property">obj</span>)</span><br></pre></td></tr></table></figure>



<h5 id="4-使用in来判断某个对象是否拥有某个私有属性"><a href="#4-使用in来判断某个对象是否拥有某个私有属性" class="headerlink" title="4. 使用in来判断某个对象是否拥有某个私有属性"></a>4. 使用in来判断某个对象是否拥有某个私有属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Cache</span> &#123;</span><br><span class="line">    #obj = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">get</span>(<span class="params">key</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.#obj[key]</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">set</span>(<span class="params">key, value</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.#obj[key] = value</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">hasObj</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> #obj <span class="keyword">in</span> <span class="variable language_">this</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cache = <span class="keyword">new</span> <span class="title class_">Cache</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(cache.<span class="title function_">hasObj</span>())</span><br></pre></td></tr></table></figure>



<h5 id="5-支持在最外层写await"><a href="#5-支持在最外层写await" class="headerlink" title="5.支持在最外层写await"></a>5.支持在最外层写await</h5><blockquote>
<p>顶层<code>await</code>只能用在 ES6 模块，不能用在 CommonJS 模块。这是因为 CommonJS 模块的<code>require()</code>是同步加载，如果有顶层<code>await</code>，就没法处理加载了。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;module&quot;</span>&gt;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">ajax</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            <span class="title function_">resolve</span>(<span class="string">&quot;data-1111&quot;</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> res = <span class="keyword">await</span> <span class="title function_">ajax</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="6-at函数来索引元素"><a href="#6-at函数来索引元素" class="headerlink" title="6. at函数来索引元素"></a>6. at函数来索引元素</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="string">&quot;kerwin&quot;</span>,<span class="string">&quot;tiechui&quot;</span>,<span class="string">&quot;gangdan&quot;</span>,<span class="string">&quot;xiaoming&quot;</span>]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[<span class="number">1</span>])</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[arr.<span class="property">length</span>-<span class="number">1</span>]) <span class="comment">//变丑了</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr[arr.<span class="property">length</span>-<span class="number">2</span>]) <span class="comment">//变丑了</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">at</span>(<span class="number">1</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">at</span>(-<span class="number">1</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(arr.<span class="title function_">at</span>(-<span class="number">2</span>))</span><br></pre></td></tr></table></figure>



<h5 id="7-正则匹配的开始和结束索引"><a href="#7-正则匹配的开始和结束索引" class="headerlink" title="7. 正则匹配的开始和结束索引"></a>7. 正则匹配的开始和结束索引</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> str = <span class="string">&quot;今天是2022-11-10&quot;</span></span><br><span class="line"><span class="keyword">let</span> reg = <span class="regexp">/(?&lt;year&gt;[0-9]&#123;4&#125;)-(?&lt;month&gt;[0-9]&#123;2&#125;)-(?&lt;day&gt;[0-9]&#123;2&#125;)/</span>d</span><br><span class="line"></span><br><span class="line"><span class="comment">//exec</span></span><br><span class="line"><span class="keyword">let</span> res = reg.<span class="title function_">exec</span>(str)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br></pre></td></tr></table></figure>

<p>[外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-67p98HC6-1681921901152)(%E7%AC%94%E8%AE%B0.assets&#x2F;image-20220927105243515.png)]</p>
<h5 id="8-findLast-和findLastIndex-函数"><a href="#8-findLast-和findLastIndex-函数" class="headerlink" title="8.findLast()和findLastIndex()函数"></a>8.findLast()和findLastIndex()函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr = [<span class="number">11</span>,<span class="number">12</span>,<span class="number">13</span>,<span class="number">14</span>,<span class="number">15</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// let res = arr.find(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// let res = arr.findIndex(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="comment">// let res = arr.findLast(function(value)&#123;</span></span><br><span class="line"><span class="comment">//   return value % 2 === 0</span></span><br><span class="line"><span class="comment">// &#125;)</span></span><br><span class="line"><span class="keyword">let</span> res = arr.<span class="title function_">findLastIndex</span>(<span class="keyword">function</span>(<span class="params">value</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> value % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(res)</span><br></pre></td></tr></table></figure>

<h5 id="9-Error对象的Cause属性"><a href="#9-Error对象的Cause属性" class="headerlink" title="9.Error对象的Cause属性"></a>9.Error对象的Cause属性</h5><blockquote>
<p>Error对象多了一个<code>cause</code>属性来指明错误出现的原因。这个属性可以帮助我们为错误添加更多的上下文信息，从而帮助使用者们更好地定位错误。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">try</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(kerwin)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span>(e)&#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;New error 1111111&#x27;</span>,&#123;<span class="attr">cause</span>:<span class="string">&quot;这是因为,,,,,,,,,&quot;</span>&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="title function_">getData</span>()</span><br><span class="line">&#125;<span class="keyword">catch</span>(e)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">cause</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-关于Nodejs搭建服务器增删改查和登录操作实例"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/%E5%85%B3%E4%BA%8ENodejs%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%92%8C%E7%99%BB%E5%BD%95%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B/"
    >关于Nodejs搭建服务器增删改查和登录操作实例</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/%E5%85%B3%E4%BA%8ENodejs%E6%90%AD%E5%BB%BA%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%E5%92%8C%E7%99%BB%E5%BD%95%E6%93%8D%E4%BD%9C%E5%AE%9E%E4%BE%8B/" class="article-date">
  <time datetime="2024-03-11T06:28:39.000Z" itemprop="datePublished">2024-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="关于Nodejs搭建服务器增删改查和登录操作实例"><a href="#关于Nodejs搭建服务器增删改查和登录操作实例" class="headerlink" title="关于Nodejs搭建服务器增删改查和登录操作实例"></a>关于Nodejs搭建服务器增删改查和登录操作实例</h1><p>在 node.js 中创建一个服务器非常简单，只需要使用 node.js 为我们提供的 http 模块及相关 API 即可创建一个麻雀虽小但五脏俱全的web 服务器，相比 Java&#x2F;Python&#x2F;Ruby 搭建web服务器的过程简单的很。</p>
<h2 id="1-数据库"><a href="#1-数据库" class="headerlink" title="1.数据库"></a>1.数据库</h2><p>数据库名：crud_demo<br>表名：user<br>字段：id，name，sex，age</p>
<h2 id="2-代码"><a href="#2-代码" class="headerlink" title="2.代码"></a>2.代码</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引用mysql依赖</span></span><br><span class="line"><span class="keyword">const</span> mysql = <span class="built_in">require</span>(<span class="string">&quot;mysql&quot;</span>);</span><br><span class="line"><span class="comment">//引用express依赖</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>);</span><br><span class="line"><span class="comment">//引用body-parser 解析post传参</span></span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&quot;body-parser&quot;</span>);</span><br><span class="line"><span class="comment">//express实例化</span></span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>();</span><br><span class="line"><span class="comment">//引用 cors</span></span><br><span class="line"><span class="keyword">const</span> cors = <span class="built_in">require</span>(<span class="string">&quot;cors&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> &#123; json &#125; = <span class="built_in">require</span>(<span class="string">&quot;body-parser&quot;</span>);</span><br><span class="line"><span class="comment">//关闭Form表单传值</span></span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;));</span><br><span class="line"><span class="comment">//使用Json传值</span></span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">json</span>());</span><br><span class="line"><span class="comment">//使用cors 解决跨域问题</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>());</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> connection = mysql.<span class="title function_">createConnection</span>(&#123;</span><br><span class="line">  <span class="attr">host</span>: <span class="string">&quot;localhost&quot;</span>,</span><br><span class="line">  <span class="attr">user</span>: <span class="string">&quot;root&quot;</span>,</span><br><span class="line">  <span class="attr">password</span>: <span class="string">&quot;password&quot;</span>,<span class="comment">//修改成自己的密码</span></span><br><span class="line">  <span class="attr">database</span>: <span class="string">&quot;crud_demo&quot;</span>,<span class="comment">//修改成自己的数据库名</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 建立数据库连接</span></span><br><span class="line">connection.<span class="title function_">connect</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * select</span></span><br><span class="line"><span class="comment"> * http://127.0.0.1:3000/api</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/api&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> sql = <span class="string">&quot;select * from user&quot;</span>;</span><br><span class="line">  connection.<span class="title function_">query</span>(sql, <span class="keyword">function</span> (<span class="params">error, results, fields</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">    <span class="comment">// return results;</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * delete</span></span><br><span class="line"><span class="comment"> * http://127.0.0.1:3000/api/delete/4</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/api/delete/:id&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">params</span>.<span class="property">id</span>);</span><br><span class="line">  <span class="keyword">let</span> delSql = <span class="string">`DELETE FROM user where id= <span class="subst">$&#123;<span class="built_in">parseInt</span>(req.params.id)&#125;</span>`</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(delSql);</span><br><span class="line">  connection.<span class="title function_">query</span>(delSql, <span class="keyword">function</span> (<span class="params">error, results</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">    <span class="comment">// return results;</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * insert</span></span><br><span class="line"><span class="comment"> * http://localhost:3000/api/insert?id=4&amp;name=xiaohe&amp;sex=%E7%94%B7&amp;age=19</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/api/insert&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>.<span class="property">id</span>);</span><br><span class="line">  <span class="keyword">let</span> insertSql = <span class="string">`insert into user VALUES(?,?,?,?)`</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(insertSql);</span><br><span class="line">  <span class="keyword">let</span> data = [req.<span class="property">query</span>.<span class="property">id</span>, req.<span class="property">query</span>.<span class="property">name</span>, req.<span class="property">query</span>.<span class="property">sex</span>, req.<span class="property">query</span>.<span class="property">age</span>];</span><br><span class="line">  connection.<span class="title function_">query</span>(insertSql, data, <span class="keyword">function</span> (<span class="params">error, results</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">    <span class="comment">// return results;</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * update</span></span><br><span class="line"><span class="comment"> * http://localhost:3000/api/update?id=4&amp;name=%E7%99%BE%E5%BA%A6&amp;sex=%E7%94%B7&amp;age=999</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/api/update&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">body</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(req.<span class="property">query</span>.<span class="property">id</span>);</span><br><span class="line">  <span class="keyword">let</span> updateSql = <span class="string">`update user set name = ?, sex = ?, age = ? where id = ?`</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(updateSql);</span><br><span class="line">  <span class="keyword">let</span> data = [req.<span class="property">query</span>.<span class="property">name</span>, req.<span class="property">query</span>.<span class="property">sex</span>, req.<span class="property">query</span>.<span class="property">age</span>, req.<span class="property">query</span>.<span class="property">id</span>];</span><br><span class="line">  connection.<span class="title function_">query</span>(updateSql, data, <span class="keyword">function</span> (<span class="params">error, results</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">    <span class="comment">// return results;</span></span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * login</span></span><br><span class="line"><span class="comment"> * http://127.0.0.1:3000/api/login?name=&quot;1234567890&quot;&amp;pwd=&quot;123456&quot;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">app.<span class="title function_">get</span>(<span class="string">&quot;/api/login&quot;</span>, <span class="function">(<span class="params">req, res</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> loginSql = <span class="string">`select * from user where name = ? and pwd = ?`</span>;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(loginSql);</span><br><span class="line">  <span class="keyword">let</span> data = [req.<span class="property">query</span>.<span class="property">name</span>, req.<span class="property">query</span>.<span class="property">pwd</span>];</span><br><span class="line">  connection.<span class="title function_">query</span>(loginSql, data, <span class="keyword">function</span> (<span class="params">error, results, fields</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (error) <span class="keyword">throw</span> error;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(results);</span><br><span class="line">    <span class="comment">// return results;</span></span><br><span class="line">    <span class="keyword">if</span> (results.<span class="property">length</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;登录成功&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;账号不存在&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res.<span class="title function_">json</span>(results);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">listen</span>(<span class="number">3000</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;服务器启动成功...&quot;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-运行"><a href="#3-运行" class="headerlink" title="3.运行"></a>3.运行</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node 文件名字</span><br></pre></td></tr></table></figure>

<h2 id="4-测试"><a href="#4-测试" class="headerlink" title="4.测试"></a>4.测试</h2><p>在浏览器中访问代码中对应的链接地址</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Nodejs/" rel="tag">Nodejs</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-数据结构之操作顺序表实战"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E6%93%8D%E4%BD%9C%E9%A1%BA%E5%BA%8F%E8%A1%A8%E5%AE%9E%E6%88%98/"
    >数据结构之操作顺序表实战</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B9%8B%E6%93%8D%E4%BD%9C%E9%A1%BA%E5%BA%8F%E8%A1%A8%E5%AE%9E%E6%88%98/" class="article-date">
  <time datetime="2024-03-11T06:24:56.000Z" itemprop="datePublished">2024-03-11</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="数据结构之操作顺序表实战——C语言"><a href="#数据结构之操作顺序表实战——C语言" class="headerlink" title="数据结构之操作顺序表实战——C语言"></a>数据结构之操作顺序表实战——C语言</h1><h2 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h2><p>顺序表是在计算机内存中以数组的形式保存的线性表，线性表的顺序存储是指用一组地址连续的存储单元依次存储线性表中的各个元素、使得线性表中在逻辑结构上相邻的数据元素存储在相邻的物理存储单元中，即通过数据元素物理存储的相邻关系来反映数据元素之间逻辑上的相邻关系，采用顺序存储结构的线性表通常称为顺序表。顺序表是将表中的结点依次存放在计算机内存中一组地址连续的存储单元中。</p>
<h2 id="一-数据结构概述"><a href="#一-数据结构概述" class="headerlink" title="一.数据结构概述"></a>一.数据结构概述</h2><p><img src="https://img-blog.csdnimg.cn/68f6211a9f2e450c9df4f13b961341f2.png#pic_center" alt="在这里插入图片描述"></p>
<h2 id="二-要求"><a href="#二-要求" class="headerlink" title="二.要求"></a>二.要求</h2><p>本实训是对课本中关于顺序表的所有知识的综合实训，其内容包括了顺序表的各种基本操作。通过实训让读者掌握顺序表各种操作的算法编写，并理解各种操作之间的联系。</p>
<p>用户运行程序时，屏幕中显示选项菜单：</p>
<hr>
<pre><code>    --线性顺序表--
   1--------顺序表初始化     
   2--------插入             
   3--------删除             
   4--------求表长           
   5--------按值查找         
   6--------读取元素值       
   7--------显示线性表       
   0--------退出             
</code></pre>
<hr>
<p>根据给出的问题，选择算法；正确画出流程图；正确输入、编译、链间、运行程序；运行结果用截图方式插入本报告；原程序有必要的注释；验证程序要全面。</p>
<p>代码包含顺序表的基本操作，包括顺序表的初始化、元素的插人、元素的删除、计算顺序表长度、在顺序表中查找某个关键字、读取指定位置的元素值和输出顺序表的元素信息等。</p>
<h2 id="三-作答"><a href="#三-作答" class="headerlink" title="三.作答"></a>三.作答</h2><h3 id="1-代码："><a href="#1-代码：" class="headerlink" title="1.代码："></a>1.代码：</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;malloc.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ElemType int <span class="comment">//在此例中数据类型采用数字类型</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MaxSize 100  <span class="comment">//顺序表的最大长度</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    ElemType *data; <span class="comment">//存储空间基址</span></span><br><span class="line">    <span class="type">int</span> length;     <span class="comment">//线性表当前的长度</span></span><br><span class="line">&#125; SqList;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化顺序表，创建一个空表</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">InitList</span><span class="params">(SqList *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    L-&gt;data = (ElemType *)<span class="built_in">malloc</span>(MaxSize * <span class="keyword">sizeof</span>(ElemType));</span><br><span class="line">    <span class="keyword">if</span> (!L-&gt;data)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;存储空间分配失败!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    L-&gt;length = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建指定大小的顺序表</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">CreateSqList</span><span class="params">(SqList *L, <span class="type">int</span> n)</span> <span class="comment">// n为需要创建顺序表的长度</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; MaxSize || n &lt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;顺序表的长度非法&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;请输入%d个数据:&quot;</span>, n);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;L-&gt;data[i]);</span><br><span class="line">            L-&gt;length++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在指定位置插入数据</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">InsertSqList</span><span class="params">(SqList *L, <span class="type">int</span> n, ElemType e)</span> <span class="comment">// n为插入位置，e为要插入的数据</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; L-&gt;length || n &lt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;插入位置非法!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = L-&gt;length - <span class="number">1</span>; i &gt;= n - <span class="number">1</span>; i--)</span><br><span class="line">        &#123;</span><br><span class="line">            L-&gt;data[i + <span class="number">1</span>] = L-&gt;data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        L-&gt;data[n - <span class="number">1</span>] = e;</span><br><span class="line">        L-&gt;length++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//删除指定位置的数据</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">DeleteSqList</span><span class="params">(SqList *L, <span class="type">int</span> n)</span> <span class="comment">// n为要删除的数据位置</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; L-&gt;length || n &lt; <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;删除位置非法!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (i = n; i &lt; L-&gt;length; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            L-&gt;data[i - <span class="number">1</span>] = L-&gt;data[i];</span><br><span class="line">        &#125;</span><br><span class="line">        L-&gt;length--;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查看顺序表长度</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">len_seqList</span><span class="params">(SqList *L)</span> <span class="comment">/*返回顺序表L的长度*/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> L-&gt;length;</span><br><span class="line">    <span class="comment">// return L-&gt;last;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//按值查找</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">location_seqlist</span><span class="params">(SqList *L, ElemType e)</span> <span class="comment">/*在线性表中查找值为e的数据元素*/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; L-&gt;length &amp;&amp; L-&gt;data[i] != e)</span><br><span class="line">        i++;</span><br><span class="line">    <span class="keyword">if</span> (i == L-&gt;length)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">/*查找不成功*/</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> i; <span class="comment">/*返回的是存储位置*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//读取元素值</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">get_from_seqlist</span><span class="params">(SqList *L, <span class="type">int</span> i)</span> <span class="comment">/*返回线性表中的第i个元素的值*/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">1</span> || i &gt; L-&gt;length)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;输入的序号有误，请重新输入!\n&quot;</span>);</span><br><span class="line">        <span class="comment">// return L-&gt;data[i] = -1;</span></span><br><span class="line">        <span class="comment">// return NULL;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> L-&gt;data[--i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//显示顺序表</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">PrintSqList</span><span class="params">(SqList *L)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;打印出的顺序表为:\n&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;*************************\n&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; L-&gt;length; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;   %d&quot;</span>, L-&gt;data[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;\n*************************\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> choice;</span><br><span class="line">    SqList L;</span><br><span class="line">    <span class="type">int</span> j = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (j)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\n\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\t\t\t        --线性顺序表--       \n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t********************************&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	1--------顺序表初始化(创建)*&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	2--------插入          *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	3--------删除          *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	4--------求表长        *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	5--------按值查找      *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	6--------读取元素值    *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	7--------显示线性表    *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t*	0--------退出          *&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t********************************\n&quot;</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;\t\t\t请选择菜单号 (0--7): &quot;</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;choice);</span><br><span class="line">        <span class="keyword">if</span> (choice == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//顺序表初始化</span></span><br><span class="line">            InitList(&amp;L);</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> n;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入需要创建顺序表的长度：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">            CreateSqList(&amp;L, n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">2</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//插入</span></span><br><span class="line">            <span class="comment">// printf(&quot;现默认在1号位置前插入数据0! \n&quot;);</span></span><br><span class="line">            <span class="comment">// int n, ElemType e</span></span><br><span class="line">            <span class="comment">// InsertSqList(&amp;L, 1, 0);</span></span><br><span class="line">            <span class="type">int</span> n;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入需要插入顺序表的位置：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">            ElemType e;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入需要插入顺序表的元素：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;e);</span><br><span class="line"></span><br><span class="line">            InsertSqList(&amp;L, n, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">3</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//删除</span></span><br><span class="line">            <span class="comment">// printf(&quot;现默认删除1号位置数据! \n&quot;);</span></span><br><span class="line">            <span class="comment">// int n</span></span><br><span class="line">            <span class="type">int</span> n;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入需要删除顺序表的位置：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line"></span><br><span class="line">            DeleteSqList(&amp;L, n);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">4</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// printf(&quot;求表长\n&quot;);</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;当前顺序表的表长为： %d\n&quot;</span>, len_seqList(&amp;L));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">5</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// printf(&quot;按值查找\n&quot;);</span></span><br><span class="line">            <span class="type">int</span> i;</span><br><span class="line">            ElemType e;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入要查找的值：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;e);</span><br><span class="line"></span><br><span class="line">            i = location_seqlist(&amp;L, e);</span><br><span class="line">            <span class="keyword">if</span> (i &gt;= <span class="number">0</span>)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;要查找的元素下标为：%d\n&quot;</span>, ++i);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">&quot;元素未找到&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">6</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// printf(&quot;读取元素值\n&quot;);</span></span><br><span class="line">            <span class="type">int</span> i;</span><br><span class="line">            ElemType e;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;请输入要读取的结点的序号：&quot;</span>);</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;i);</span><br><span class="line">            <span class="comment">//读取节点的序号</span></span><br><span class="line">            e = get_from_seqlist(&amp;L, i);</span><br><span class="line"></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;要查找的下标为%d的元素值为：%d\n&quot;</span>, i, e);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">7</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//显示线性表</span></span><br><span class="line">            PrintSqList(&amp;L);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (choice == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            j = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot; \t \t \t 程序结束！ \n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n\t\t\t输入错误!请重新输入！ \n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;操作成功！\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//测试</span></span><br><span class="line">    <span class="comment">// InitList(&amp;L);                   // 1--------顺序表初始化</span></span><br><span class="line">    <span class="comment">// CreateSqList(&amp;L, 5);            // 1--------创建</span></span><br><span class="line">    <span class="comment">// InsertSqList(&amp;L, 1, 0);         // 2--------插入</span></span><br><span class="line">    <span class="comment">// DeleteSqList(&amp;L, 1);            // 3--------删除</span></span><br><span class="line">    <span class="comment">// len_seqList(&amp;L);                // 4--------求表长</span></span><br><span class="line">    <span class="comment">// location_seqlist(&amp;L, 1);        // 5--------按值查找</span></span><br><span class="line">    <span class="comment">// get_from_seqlist(&amp;L, 1);        // 6--------读取元素值</span></span><br><span class="line">    <span class="comment">// PrintSqList(&amp;L);                // 7--------显示线性表</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-运行效果："><a href="#2-运行效果：" class="headerlink" title="2.运行效果："></a>2.运行效果：</h3><h4 id="2-1-顺序表初始化："><a href="#2-1-顺序表初始化：" class="headerlink" title="2.1 顺序表初始化："></a>2.1 顺序表初始化：</h4><p><img src="https://img-blog.csdnimg.cn/df4f4f104cf64fa890634da6478e6ae9.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/42e58b3d22bc4155be79b8800f792609.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-2-插入"><a href="#2-2-插入" class="headerlink" title="2.2 插入"></a>2.2 插入</h4><p><img src="https://img-blog.csdnimg.cn/5d8ed7c7f88b4101928303ff3f1ae00a.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/5c8336f83b7440a195ada45c7f38307f.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-3-删除"><a href="#2-3-删除" class="headerlink" title="2.3 删除"></a>2.3 删除</h4><p><img src="https://img-blog.csdnimg.cn/946615622a364bd0bc6178cdce8d8a58.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/903739e9f6414969bb0ab2474e5b09b2.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-4-求表长"><a href="#2-4-求表长" class="headerlink" title="2.4 求表长"></a>2.4 求表长</h4><p><img src="https://img-blog.csdnimg.cn/26cddefdf78f4db48cc379604860f762.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-5-按值查找"><a href="#2-5-按值查找" class="headerlink" title="2.5 按值查找"></a>2.5 按值查找</h4><p><img src="https://img-blog.csdnimg.cn/4499fb379ad7480897ed65d26583583d.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-6-读取元素值"><a href="#2-6-读取元素值" class="headerlink" title="2.6 读取元素值"></a>2.6 读取元素值</h4><p><img src="https://img-blog.csdnimg.cn/707060762a7b4be6b4351eb31906657d.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-7-显示数据表"><a href="#2-7-显示数据表" class="headerlink" title="2.7 显示数据表"></a>2.7 显示数据表</h4><p><img src="https://img-blog.csdnimg.cn/16b78da15e8746ae8a52afeba0d781cd.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="2-8-退出"><a href="#2-8-退出" class="headerlink" title="2.8 退出"></a>2.8 退出</h4><p><img src="https://img-blog.csdnimg.cn/444a7c5d10354912b89121c8402054a7.png#pic_center" alt="在这里插入图片描述"></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-初学Vue第一篇"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/%E5%88%9D%E5%AD%A6Vue%E7%AC%AC%E4%B8%80%E7%AF%87/"
    >初学Vue第一篇</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/%E5%88%9D%E5%AD%A6Vue%E7%AC%AC%E4%B8%80%E7%AF%87/" class="article-date">
  <time datetime="2024-03-11T06:22:50.000Z" itemprop="datePublished">2024-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E5%89%8D%E7%AB%AF/">前端</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="初学Vue第一篇"><a href="#初学Vue第一篇" class="headerlink" title="初学Vue第一篇"></a>初学Vue第一篇</h1><h2 id="1-打开vscode"><a href="#1-打开vscode" class="headerlink" title="1.打开vscode"></a>1.打开vscode</h2><p><img src="https://img-blog.csdnimg.cn/d5406d32af3d48a8ba0273f44187a261.png" alt="在这里插入图片描述"></p>
<h2 id="2-新建一个终端"><a href="#2-新建一个终端" class="headerlink" title="2.新建一个终端"></a>2.新建一个终端</h2><p><img src="https://img-blog.csdnimg.cn/e81ae26a07964286aad4134092fa88ad.png" alt="在这里插入图片描述"></p>
<h2 id="3-输入vue-create-项目名称（我这里是vue-case）"><a href="#3-输入vue-create-项目名称（我这里是vue-case）" class="headerlink" title="3.输入vue create 项目名称（我这里是vue-case）"></a>3.输入vue create 项目名称（我这里是vue-case）</h2><p><img src="https://img-blog.csdnimg.cn/af37e8464392459fb7f1bdd5be2bc2eb.png" alt="在这里插入图片描述"></p>
<h2 id="4-配置vue项目（我这里选三个自主配置，第一个vue3默认配置，第二个vue2默认配置）"><a href="#4-配置vue项目（我这里选三个自主配置，第一个vue3默认配置，第二个vue2默认配置）" class="headerlink" title="4.配置vue项目（我这里选三个自主配置，第一个vue3默认配置，第二个vue2默认配置）"></a>4.配置vue项目（我这里选三个自主配置，第一个vue3默认配置，第二个vue2默认配置）</h2><p><img src="https://img-blog.csdnimg.cn/0c0d3dc83d5f424abebc1c2013f85b74.png" alt="在这里插入图片描述"></p>
<h2 id="5-键盘上下键和空格键勾选vueRouter-和-vuex"><a href="#5-键盘上下键和空格键勾选vueRouter-和-vuex" class="headerlink" title="5.键盘上下键和空格键勾选vueRouter 和 vuex"></a>5.键盘上下键和空格键勾选vueRouter 和 vuex</h2><p><img src="https://img-blog.csdnimg.cn/4983288c54e542efb703faa20724c1e2.png" alt="在这里插入图片描述"></p>
<h2 id="6-选择vue版本"><a href="#6-选择vue版本" class="headerlink" title="6.选择vue版本"></a>6.选择vue版本</h2><p><img src="https://img-blog.csdnimg.cn/ffd182337a95435195c9a026f0ced6ef.png" alt="在这里插入图片描述"></p>
<h2 id="7-键入y需要为生产中的索引回退设置适当的服务器"><a href="#7-键入y需要为生产中的索引回退设置适当的服务器" class="headerlink" title="7.键入y需要为生产中的索引回退设置适当的服务器"></a>7.键入y需要为生产中的索引回退设置适当的服务器</h2><p><img src="https://img-blog.csdnimg.cn/a56acc63a68a4f0f820d8ebbe17c941b.png" alt="在这里插入图片描述"></p>
<h2 id="8-一律键入y"><a href="#8-一律键入y" class="headerlink" title="8.一律键入y"></a>8.一律键入y</h2><h2 id="9-创建完毕"><a href="#9-创建完毕" class="headerlink" title="9.创建完毕"></a>9.创建完毕</h2><p><img src="https://img-blog.csdnimg.cn/3f33373611ff48b4ab8220e361025db6.png" alt="在这里插入图片描述"></p>
<h2 id="10-项目结构目录"><a href="#10-项目结构目录" class="headerlink" title="10.项目结构目录"></a>10.项目结构目录</h2><p><img src="https://img-blog.csdnimg.cn/dc63b19c81414310ab061ccd660bfe5d.png" alt="在这里插入图片描述"></p>
<h2 id="11-项目配置package-json"><a href="#11-项目配置package-json" class="headerlink" title="11.项目配置package.json"></a>11.项目配置package.json</h2><p><img src="https://img-blog.csdnimg.cn/4069be3d90b94ea9a63bcb992dd4cb3b.png" alt="在这里插入图片描述"></p>
<h2 id="12-输入cd-项目名称"><a href="#12-输入cd-项目名称" class="headerlink" title="12.输入cd 项目名称"></a>12.输入cd 项目名称</h2><p><img src="https://img-blog.csdnimg.cn/e854d27b83f34f82a4624b8820bccb0c.png" alt="在这里插入图片描述"></p>
<h2 id="13-输入npm-run-serve运行"><a href="#13-输入npm-run-serve运行" class="headerlink" title="13.输入npm run serve运行"></a>13.输入npm run serve运行</h2><p><img src="https://img-blog.csdnimg.cn/103c55d10ac543e9b2e94cca76aad70b.png" alt="在这里插入图片描述"></p>
<h2 id="14-运行成功"><a href="#14-运行成功" class="headerlink" title="14.运行成功"></a>14.运行成功</h2><p><img src="https://img-blog.csdnimg.cn/23d4621ace644380a107823331c180b6.png" alt="在这里插入图片描述"></p>
<p><strong><strong>如果对你有帮助，点赞、收藏、关注是我更新的动力！👋🌟🚀</strong></strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Vue/" rel="tag">Vue</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
    <article
  id="post-Ubuntu上运行c语言教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/blog/2024/03/11/Ubuntu%E4%B8%8A%E8%BF%90%E8%A1%8Cc%E8%AF%AD%E8%A8%80%E6%95%99%E7%A8%8B/"
    >Ubuntu上运行c语言教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/blog/2024/03/11/Ubuntu%E4%B8%8A%E8%BF%90%E8%A1%8Cc%E8%AF%AD%E8%A8%80%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2024-03-11T06:19:29.000Z" itemprop="datePublished">2024-03-11</time>
</a> 
  <div class="article-category">
    <a class="article-category-link" href="/blog/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a>
  </div>
   
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <h1 id="Ubuntu上运行c语言教程"><a href="#Ubuntu上运行c语言教程" class="headerlink" title="Ubuntu上运行c语言教程"></a>Ubuntu上运行c语言教程</h1><h2 id="0-序言"><a href="#0-序言" class="headerlink" title="0.序言"></a>0.序言</h2><p>Ubuntu是一个以桌面应用为主的Linux操作系统，其名称来自非洲南部祖鲁语或豪萨语的“ubuntu”一词，意思是“人性”“我的存在是因为大家的存在”，是非洲传统的一种价值观。Ubuntu基于Debian发行版和Gnome桌面环境，而从11.04版起，Ubuntu发行版放弃了Gnome桌面环境，改为Unity。从前人们认为Linux难以安装、难以使用，在Ubuntu出现后这些都成为了历史。Ubuntu也拥有庞大的社区力量，用户可以方便地从社区获得帮助。</p>
<h2 id="1-准备工作-检查网络-更新源"><a href="#1-准备工作-检查网络-更新源" class="headerlink" title="1.准备工作(检查网络&amp;更新源)"></a>1.准备工作(检查网络&amp;更新源)</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ping</span> www.baidu.com</span><br><span class="line">-- 检查网络</span><br><span class="line"></span><br><span class="line">services.msc</span><br><span class="line">-- ？？？</span><br><span class="line"></span><br><span class="line">VMware DHCP Service</span><br><span class="line">VMware NAT Service</span><br><span class="line">-- 若网络未连接，win+<span class="built_in">shift</span>+esc打开控制台，在任意一项右键转到服务，找到上述两项重启，再重启虚拟机即可连接到网络。</span><br><span class="line"></span><br><span class="line">sudo apt update</span><br><span class="line">-- 更新源</span><br></pre></td></tr></table></figure>

<h2 id="2-安装ssh"><a href="#2-安装ssh" class="headerlink" title="2.安装ssh"></a>2.安装ssh</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">sudo ps -e |grep ssh</span><br><span class="line">-- 检查是否安装ssh服务</span><br><span class="line"></span><br><span class="line">sudo apt install openssh-server</span><br><span class="line">-- 安装ssh服务</span><br><span class="line"></span><br><span class="line">sudo ps -e |grep ssh</span><br><span class="line">-- 再次检查</span><br><span class="line"></span><br><span class="line">service ufw stop</span><br><span class="line">-- 暂停防火墙</span><br><span class="line"></span><br><span class="line">sudo apt install net-tools</span><br><span class="line">-- 下载网络检查工具</span><br><span class="line"></span><br><span class="line">ifconfig</span><br><span class="line">-- 查看IP和网络配置</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="3-安装gcc-g"><a href="#3-安装gcc-g" class="headerlink" title="3.安装gcc g++"></a>3.安装gcc g++</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gcc</span><br><span class="line">-- 安装gcc</span><br><span class="line"></span><br><span class="line">sudo apt install build-essential</span><br><span class="line">-- 下载打包构建工具</span><br><span class="line"></span><br><span class="line">sudo apt install g++</span><br><span class="line">-- 下载g++</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">## <span class="number">4</span>.安装vim</span><br><span class="line"></span><br><span class="line">```bat</span><br><span class="line">sudo apt install vim</span><br><span class="line">-- 下载vim</span><br><span class="line">````</span><br><span class="line"></span><br><span class="line">## <span class="number">5</span>.测试</span><br><span class="line"></span><br><span class="line">```bat</span><br><span class="line">vim hello.c</span><br><span class="line">-- 创建hello.c文件</span><br><span class="line"></span><br><span class="line">gcc -Wall hello.c -o hello</span><br><span class="line">gcc hello.c -o hello</span><br><span class="line">-- 将hello.c文件编译为hello</span><br><span class="line"></span><br><span class="line">./hello</span><br><span class="line">-- 运行hello可执行文件</span><br></pre></td></tr></table></figure>

<h2 id="6-切换用户"><a href="#6-切换用户" class="headerlink" title="6.切换用户"></a>6.切换用户</h2><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br><span class="line">-- 为root用户设置密码</span><br><span class="line"></span><br><span class="line">su root</span><br><span class="line">-- 切换到root用户</span><br><span class="line"></span><br><span class="line">sudo adduser he</span><br><span class="line">-- 增加he用户</span><br><span class="line"></span><br><span class="line">sudo deluser he</span><br><span class="line">删除he用户</span><br><span class="line"></span><br><span class="line">w</span><br><span class="line">-- 查看所有用户</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 测试代码</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;hello world!\n&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>



<p><strong><strong>如果对你有帮助，点赞、收藏、关注是我更新的动力！👋🌟🚀</strong></strong></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/blog/tags/Ubuntu/" rel="tag">Ubuntu</a></li></ul>

    </footer>
  </div>

   
   
  
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <a class="extend prev" rel="prev" href="/blog/page/4/">上一页</a><a class="page-number" href="/blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/3/">3</a><a class="page-number" href="/blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/blog/page/6/">6</a><a class="page-number" href="/blog/page/7/">7</a><span class="space">&hellip;</span><a class="page-number" href="/blog/page/10/">10</a><a class="extend next" rel="next" href="/blog/page/6/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2022-2024
        <i class="ri-heart-fill heart_icon"></i> 何福海
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/blog/"><img src="/blog/images/ayer.png" alt="何福海的个人博客"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/tags/%E6%97%85%E8%A1%8C/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="https://wallpaper.seenav.cn/">壁纸</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/blog/2022/01/01/%E5%85%B3%E4%BA%8E%E6%88%91/">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/blog/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯奶茶吧~</p>
  <div class="reward-box">
    
    <div class="reward-item">
      <img class="reward-img" src="/blog/images/alipay.jpg">
      <span class="reward-type">支付宝</span>
    </div>
    
    
    <div class="reward-item">
      <img class="reward-img" src="/blog/images/wechat.jpg">
      <span class="reward-type">微信</span>
    </div>
    
  </div>
</div>
    
<script src="/blog/js/jquery-3.6.0.min.js"></script>
 
<script src="/blog/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/blog/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/blog/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->
 
<script src="/blog/js/clickBoom2.js"></script>
 
<!-- CodeCopy -->
 
<link rel="stylesheet" href="/blog/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->
 
<script src="/blog/js/dz.js"></script>
 
<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    <div id="music">
    
    
    
    <iframe frameborder="no" border="1" marginwidth="0" marginheight="0" width="200" height="52"
        src="//music.163.com/outchain/player?type=2&id=1497588709&auto=0&height=32"></iframe>
</div>

<style>
    #music {
        position: fixed;
        right: 15px;
        bottom: 0;
        z-index: 998;
    }
</style>
    
    

  </div>
</body>

</html>